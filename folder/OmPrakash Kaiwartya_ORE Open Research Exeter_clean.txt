ORE Open Research Exeter TITLE An EV Charging Management System Concerning Drivers' Trip Duration and Mobility Uncertainty AUTHORS Cao, Y; Wang, T; Kaiwartya, O; et al. JOURNAL IEEE Transactions on Systems, Man, and Cybernetics: Systems DEPOSITED IN ORE 14 February 2017 This version available at http://hdl.handle.net/10871/25836 COPYRIGHT AND REUSE Open Research Exeter makes this work available in accordance with publisher policies. A NOTE ON VERSIONS The version presented here may di er from the published version. If citing, you are advised to consult the published version for pagination, volume/issue and date of publication IEEE TRANSACTIONS ON SYSTEMS, MAN, AND CYBERNETICS: SYSTEMS 1 An EV Charging Management System Concerning Drivers Trip Duration and Mobility Uncertainty Yue Cao, Member, IEEE, Tong Wang, Omprakash Kaiwartya, Member, IEEE, Geyong Min, Member, IEEE, Naveed Ahmad and Abdul Hanan Abdullah, Member, IEEE Abstract With continually increased attention on Electric Vehicles (EVs) due to environment impact, public Charging Stations (CSs) for EVs will become common. However, due to the limited electricity of battery, EV drivers may experience discomfort for long charging waiting time during their journeys. This often happens when a large number of (on-the-move) EVs are planning to charge at the same CS, but it has been heavily overloaded. With this concern, in an EV charging management system, we focus on CS-selection decision making and propose a scheme to manage EVs charging plans, to minimize drivers trip duration through intermediate charging at CSs. The proposed scheme jointly considers EVs anticipated charging reservations (including arrival time, expected charging time) and parking duration at CSs. Furthermore, by tackling mobility uncertainty that EVs may not reach their planned CSs on time (due to traf c jams on the road), a periodical reservation updating mechanism is designed to adjust their charging plans. Results under the Helsinki city scenario with realistic EV and CS characteristics show the advantage of our proposal, in terms of minimized drivers trip duration, as well as charging performance at the EV and CS sides. Index Terms Electric Vehicle, Charging System, CS-Selection Decision Making, Driver s Trip Duration, Mobility Uncertainty. I. INTRODUCTION I N SmartGrid [1], the application of Electric Vehicles (EVs) [2] is promising compared to traditional petrol based vehi- cles in many developed countries. Such introduction on EVs concerns the increasing long-term energy cost and attention on environmental impact. However, for many big cities where ma- jority of trip is with long distance, on-the-move EV charging may take place during journey. In this context, the exibility of charging infrastructure as well as the appropriate decision making to manage charging are vital to the success and long- term viability of EV industry. Majority of previous works investigate charging scheduling [3] for the use case (concerning when/whether to charge EVs) where EVs have already been parking at homes/Charging Y.Cao is with the Department of Computer Science and Digital Tech- nologies, Northumbria University, Newcastle upon Tyne, UK. Email: yue.cao@northumbria.ac.uk. T.Wang (corresponding author) is with College of Information and Com- munication Engineering, Harbin Engineering University, China. Email: wang- tong@hrbeu.edu.cn. O.Kaiwartya and A.Abdullah are with the Faculty of Computing, Universiti Teknologi Malaysia, Malaysia. Email: omprakash; hanan@utm.my. G.Min is with the High Performance Computing and Networking (HPCN) research group, University of Exeter, UK. Email: g.min@exeter.ac.uk. N.Ahmad is with the Department of Computer Science, University of Peshawar, Pakistan. Email: n.ahmad@upesh.edu.pk. Manuscript received 16 February 2016, revised 28 June 2016 and 26 July 2016, accepted 20 September 2016. Stations (CSs). In contrary, our research interest addresses another use case (concerning where/which CS to charge) that has not received much attention, in order to manage the charging plans for on-the-move EVs. In general, these public CSs are typically deployed at places where there is high concentration of EVs, such as shopping mall parking places. It is highlighted that due to the relatively long time to charge an EV battery, to optimally manage where to charge has become a critical issue in recent years. This use case cannot be overlooked as it is the most important feature of EV in future smart city [4], especially for fast charging. We refer to the charging system widely adopted by pre- vious works, which utilize Global Aggregator (GA) or other third party who is interested in EVs charging management. By monitoring CSs condition, the GA as system controller implements the charging management whenever it receives a charging request from an on-the-move EV. It is worthy mentioning that based on existing fast charging technology, the charging time of an EV typically exceeds tens of minutes [5]. Therefore, a CS would be congested due to serving a large number of charging demands from parking EVs. A few previous works [6] [9] have addressed CS-selection decision making to minimize the EVs charging waiting time, by monitoring the local status of CSs. Basically, the CS with the highest availability (e.g., minimum queuing time [9]) will be selected as the best choice. Inevitably, a potential charging hotspot may happen, if many on-the-move EVs travel towards the same CS for charging. If further bringing an anticipated EV charging reservation [10] (including when the EV will arrive at selected CS for charging, and how long its charging time will be upon the arrival), the congestion at CS could be alleviated. This is because that at what time and which CS will be heavily loaded can be identi ed, so as to avoid selecting that CS as the charging plan. To the best of our awareness, no previous works has considered the in uence of traf c condition on the charging management. Such traf c condition (referred as traf c jams on the road) results in EVs mobility uncertainty. In some highly congested area, EVs may stop for certain periods until traf c jams disappear. Therefore, EVs may not guarantee their reported reservations accurately (meaning they may not arrive at selected CSs on time), and particularly the GA is unaware of this condition change timely. Since to continually obtain the updated EVs reservation information improves the accuracy of CS-selection, the changed CS-selection using updated information is appropriate to improve EV drivers Quality of Experience (QoE). IEEE TRANSACTIONS ON SYSTEMS, MAN, AND CYBERNETICS: SYSTEMS 2 Indeed, EV drivers also have their individual journeys and certain parking duration. However, an inappropriate charging taking place during journey may degrade users QoE, as they prefer to reach trip destination as soon as possible. On the one hand, drivers may not be willing to wait for a quite long time to charge their EVs. On the other hand, selecting a CS that is far away from the trip destination is not suggested as well. To summarize above, in spite that the parking duration has been addressed in the use case concerning when/whether to charge EVs, a joint consideration on parking duration and trip destination has not been addressed in the use case concerning where/which CS to charge. In order to minimize the trip duration for on-the-move EVs need charging services, we jointly consider the time to travel towards the selected CS, that taken from certain CS to the trip destination, as well as the time parking at that intermediate CS. It is worthy highlighting this article focuses on the impact of charging management on the EVs trip duration, and not on the power grid (i.e., valley lling [11], [12]). Technically: Concerning a city scenario, the CS-selection decision making is based on the reported EVs reservation in- formation as well as parking duration at selected CSs. This anticipated information is recorded by the GA to estimate the expected charging waiting time at CSs. The EV s trip destination is concerned, so as to nd the CS through which an EV deserves charging will experience the shortest trip duration. Compared to previous works on CS-selection, the novelty of this estimation jointly con- siders the parallel charging process via multiple charging slots and the EV parking duration for reservation making, where the EV may depart from a CS before being fully recharged. Since the problem of mobility uncertainty has not been addressed in literature, we advertise that EVs are further capable of sending reservation update requests, so that they would be informed by the GA to change their charging plans and experience a shorter time trip duration. This updating process is run periodically, and applicable under the scenario that EV speed is uctuated due to the traf c jams. The rest of the article is organized as follows. In Section II we present the related work, followed by Section III in which we introduce the preliminary including network enti- ties de nition, assumption, overview of charging system. In Section IV, we introduce our proposed CS-selection decision making scheme. Results are evaluated in Section V, followed by conclusion made in Section VI. II. RELATED WORK A most recent survey [13] has identi ed two EV charging use cases. On the one hand, majority of works in literature [3] address the problem of regulating the EV charging, such as minimizing peak load/cost, attening aggregated demands or reducing frequency uctuations. On the other hand, a few works are more concerned with minimizing the charging waiting time of EVs. In the latter branch, the works in [6], [9] estimate the queuing time at CSs, such that the one with the minimum queueing time is ranked as the best charging option. The work in [7] compares the schemes to select CS based either on the closest distance or minimum waiting time, where results show that the latter performs better given high EVs density under city scenario. In [8], the CS with a higher capability to accept charging requests from on-the-move EVs, will propose this service with a higher frequency, while EVs sense this service with a decreasing function of their current battery levels. The CS-selection scheme in [14] adopts a pricing strategy to minimize congestion and maximize pro t, by adapting the price depending on the number of EVs charging at each time point. Note that previous works on CS-selection can usually be integrated with route planning, such as the work in [15] predicts congestion at charging stations and suggests the most ef cient route to its user. Besides, reservation based schemes have been proposed to enhance the CS-selection intelligence using anticipated EVs mobility information, such as the works proposed under highway scenario [10] and city scenario [16], [17]. Regarding reservation charging aspect, an essential differ- ence between our work and [10] is that the latter assumes highway scenario where the EV will pass through all CSs. Its expected charging waiting time is calculated for the EV passing through the entire highway, by jointly considering the charging waiting time at a CS where the EV needs charging for the rst time and that time spent at subsequent CSs, before exiting the highway. In sharp contrast, under our city scenario the EV will head to a single geographically distributed CS for charging, where the expected charging waiting time is associated to that certain CS. Different from our previous work [16], [17], we further tackle the limited parking duration at CS (EVs may depart before being fully charged) and the entire trip duration (through an intermediate charging) for CS-selection decision making. Concerning the mobility uncertainty due to traf c jams, a periodical reservation updating is further executed to adjust EVs charging plans. Indeed, it is dif cult to coordinate the charging plans for all EVs in a large scale range. Using centralized charging management keeps the edge devices (EV side) simple, and favors more sophisticated centralized optimizations from the GA side based on the aggregated global information. Last but not least, the price [18] [21] differences between CSs concerning business model, and battery exchange service [22] concerning a super fast service provision could be easily integrated into our proposed CS-selection decision making. III. SYSTEM MODEL A. De nition of Network Entities Electric Vehicle (EV): Each EV is with a Status Of Charge (SOC) threshold. If the ratio between its current energy and maximum energy is below the SOC threshold, the EV starts to negotiate with the GA to nd an appropriate CS for charging. Further to this, the EV also reports its charging reservation to the GA, including what time it will arrive at decided CS and how long its expected charging time will be at that CS . Charging Station (CS): Each CS is located at a certain location to charge EVs in parallel, based on multiple charg- ing slots. Its condition information (number of EVs already IEEE TRANSACTIONS ON SYSTEMS, MAN, AND CYBERNETICS: SYSTEMS 3 parking at the CS and their charging time) is monitored by the GA. Global Aggregator (GA): It is a centralized entity to manage charging. Here, the CSs condition information as well as EVs charging reservations are needed to make CS-selection decision. B. Assumption In this article, we consider a city scenario where CSs are geographically deployed in a city, the GA globally manages the charging plans for all EVs in the network. Without loss of generality, EVs are equipped with wireless communication devices such as 3G/Long Term Evolution (LTE), which allows them to communicate with the GA for request/reply charging services. Each CS is with multiple charging slots such that a number of EVs can be charged in parallel. If with a low electricity stage, an on-the-move EV (with its certain trip destination) has to rstly head to a selected CS (decided by the GA) for charging. The underlying EV charging scheduling (concerning when/whether to charge EVs) at the CS side, is based on the First Come First Serve (FCFS) order, as widely used for the branch related to EV charging management. This means that the parking EV with an earlier arrival time will be scheduled with a higher charging priority. If a CS is fully occupied (meaning all its charging slots are currently being used), incoming EVs need to wait until one of its charging slots is free. Particularly, each EV has its individual parking duration at the CS, thus EV may depart from the CS before being fully charged. Upon departure from the CS, the EV will start to travel towards its trip destination again, with an initial maximum moving speed (e.g., speed acceleration). C. Introduction on Mobility Uncertainty Partially based on [23], the uncertainty of EV mobility presented in this article is mainly due to several traf c jams happen in a city. Any EV within a certain range of traf c jam will slow down its speed, while it will accelerate the speed once leaving from the range of that traf c jam. In particular, the EV has to temporarily stop, if with a close proximity to the central of traf c jam. In such case, the EV only resumes its movement once the closest traf c jam disappears. Due to this reason, the variation of moving speed will affect the arrival time at the CS, as well as the electricity consumption for travelling towards that CS. These are included as the charging reservation reported to the GA. If without reservation updating, an on-the-move EV may not reach a CS at the time it previously reserved, whereas the GA still has an obsolete knowledge that EV will reach on time. As such, the estimation on how long an incoming EV will wait for charging, is affected by the accuracy of the reservation information due to mobility uncertainty. Further to this, the mobility uncertainty also affects the travelling time taken from a CS and EV s trip destination. Periodical CS-Selection Update If Charging Is Finished If Charging Is Needed If CS-Selection Is Determined If Charging Is Started Periodical Report Driving Phase Charging Reservation Phase Battery Charging Phase Charging Scheduling Phase Reservation Updating Phase Fig. 1. System Cycle of Proposed EV Charging Management D. System Cycle of Proposed EV Charging Management Fig.1 describes the cycle of EV charging management: Driving Phase: The EV is travelling towards its trip des- tination. If with a low energy status, that EV then requires a charging service allocated from the GA. Charging Reservation Phase: Here, once the EV is noti ed by the GA in terms of CS-selection decision, the EV further reports its charging reservation to the GA. Reservation Updating Phase: The EV also periodi- cally updates its charging reservation to the GA, due to mobility uncertainty. The updated CS-selection possibly triggers a charging reservation at newly decided CSs. Charging Scheduling Phase: The EV will wait to be scheduled for charging, upon its arrival at the selected CS. Battery Charging Phase: The EV is currently being charged within a period of its parking duration. Upon departure (fully/not fully charged), the EV turns to Driving Phase. 1 2 3 CS2 EVr EV4 CS1 CS3 GA EV2 EV1 2 Parking EVs Under Charging Moving Towards Decided CS1 5 EVr 4 6 EV3 Heading to Newly Decided CS3 EVr EV1 is Heading to CS1 Make Updating to GA Fig. 2. Overview of Proposed EV Charging Management Based on Fig.2, a typical procedure for our proposed EV charging management scheme is listed as follows: 1) When one on-the-move EV needs charging service, namely EVr, it informs the GA about its charging request (including location, trip destination). IEEE TRANSACTIONS ON SYSTEMS, MAN, AND CYBERNETICS: SYSTEMS 4 2) The GA then compiles a list of CSs and ranks the most appropriate one (in terms of the minimized trip duration through an intermediate charging), and the decision is sent back to EVr. 3) EVr reports its charging reservation in relation to this selected CS, including its arrival time, expected charging time and parking duration at this CS. 4) When travelling towards the selected CS, EVr periodi- cally checks whether that currently selected CS is still the best choice, by sending a reservation update request to the GA. 5) The GA then compares a cost in relation to the newly selected CS as well as that of previously selected CS. If charging at the previously selected CS cannot contribute to the minimized trip duration, the GA will inform EVr about an updated arrangement with the new CS-selection decision. 6) EVr thus cancels its reservation at the previously se- lected CS, and reports the updated reservation in relation to the newly selected CS. Finally, EVr changes its movement towards the location of that newly selected CS. Steps 4 to 6 are repeated until EVr reaches the newly selected CS for charging. Note that such new arrangement may change for several times, depending on the frequency of reservation updating request which triggers computing logic shown in Fig.3. IV. SYSTEM DESIGN Step 1 - Available Time for Charging Step 2 - Expected Charging Waiting Time at CS Local Status of CS Step 3 - Total Trip Duration of EVr Arrival Time of EVr (Needs Charging) EVr (Needs Charging) Trip Preference Other EVs Reservations Mobility Uncertainty Fig. 3. Flow Chart of Computation Logic Referred to Fig.3, the total EV trip duration through an intermediate charging, is estimated following three steps. Step 1: The available time for charging per each charging slot at the CS is estimated based on its local condition. Step 2: The output of Step 1 and other incoming EVs charging reservations are jointly used to estimate the future status of CS. Here, we refer to expected charging waiting time, and take the in uence of mobility uncertainty into account. Step 3: The trip duration for EVr (The EV needs charging) is estimated, by jointly considering its trip destination, the output from Step 2 as well as the in uence of mobility uncertainty. TABLE I LIST OF NOMENCLATURES LIST Output including available time per charging slot at CS T arr ev EV s arrival time at CS T tra ev EV s travelling time to reach CS T cha ev Expected charging time upon arrival of EV Tcur Current time in network Sev Moving speed of EV Electric energy consumed per meter Dev Parking duration of EV at CS T park ev Time slot that EV starts to park at CS Charging power at CS NC Number of EVs under charging at CS NW Number of EVs waiting for charging at CS Number of charging slots at CS Emax ev Full volume of EV battery Ecur ev Current volume of EV battery T fin ev Charging nish time of EV Njam Number of traf c jams ljam Location of a traf c jam {ev, ljam} Distance between EV and ljam Range of traf c jam Smin ev Minimum Moving speed of EV Smax ev Maximum Moving speed of EV NR Number of EVs reserved for charging at CS ECWTcs Expected charging waiting time at CS Ncs Number of CSs lcs Location of a CS T min cs,d Travelling time from a CS to EV s trip destination T cs,d ev(r) Trip duration of EVr through charging at a CS A. Available Time for Charging Estimation Before considering those EVs have made reservations and are travelling towards their selected CSs, it is vital to esti- mate the available time for each charging slot, based on the knowledge of those EVs currently parking at these CSs. Given the parallel charging procedure via multiple charging slots, we de ne two types of queues respectively. Here, those EVs under charging are characterized in the queue of NC, while those still waiting for charging are characterized in the queue of NW . In special case, the current time in network, as denoted by Tcur, is estimated as the available charging time for each charging slot, only if all charging slots are unoccupied. As such, the LIST including these time slots is returned, after the process at line 2 in Algorithm 1. Alternatively, as the operations presented between lines 5 and 11, the time duration ( Emax ev(i) Ecur ev(i) ) to fully recharge the battery of each EVi (in the queue of NC), will be compared with its parking duration Dev(i). In one case, the condition (( Tcur T park ev(i) + Emax ev(i) Ecur ev(i) ) Dev(i) ) implies this EVi can be fully recharged before departure, where ( Tcur T park ev(i) ) is the time duration since the arrival of IEEE TRANSACTIONS ON SYSTEMS, MAN, AND CYBERNETICS: SYSTEMS 5 EVi. As such, the charging nish time (about when the charging of EVi will nish) T fin ev(i) of EVi is given by ( Emax ev(i) Ecur ev(i) + Tcur ) only. In another case, T fin ev(i) is given by ( T park ev(i) + Dev(i) ) instead, as the deadline that EVi will park at this CS. This is because that EVi can not be fully recharged. Upon above processing for those EVs under charging, the presentation between lines 12 and 16 implies that all charging slots have not been fully occupied, as there are still ( NC) slots free for charging. Here, Tcur is then estimated as the available charging time for these unoccupied charging slots. Algorithm 1 Available Time For Charging Estimation 1: if no EV is under charging then 2: add Tcur in LIST with times 3: return LIST 4: end if 5: for (i = 1; i NC; i + +) do 6: if (( Tcur T park ev(i) + Emax ev(i) Ecur ev(i) ) Dev(i) ) then 7: LIST.ADD ( Emax ev(i) Ecur ev(i) + Tcur ) 8: else 9: LIST.ADD ( T park ev(i) + Dev(i) ) 10: end if 11: end for 12: if (NC < ) then 13: for (j = 1; j ( NC); j + +) do 14: LIST.ADD(Tcur) 15: end for 16: end if 17: if no EV is waiting for charging then 18: return LIST 19: else 20: sort the queue of NW according to FCFS 21: sort LIST with ascending order 22: for (k = 1; k NW ; k + +) do 23: if (( LIST.GET(0) T park ev(k) ) < Dev(k) ) then 24: if (( LIST.GET(0) T park ev(k) + Emax ev(k) Ecur ev(k) ) Dev(k) ) then 25: T fin ev(k) = ( LIST.GET(0) + Emax ev(k) Ecur ev(k) ) 26: else 27: T fin ev(k) = ( T park ev(k) + Dev(k) ) 28: end if 29: replace LIST.GET(0) with T fin ev(k) in LIST 30: sort LIST with ascending order 31: end if 32: end for 33: return LIST 34: end if Then, Algorithm 1 will return that LIST including the available time for each charging slot, either if there is no EV waiting for charging as the condition stated at line 17, or a loop operation for each EVk waiting for charging (in the queue of NW ) has been processed as stated from line 22. In the latter case, the loop operation starts from sorting the queue of NW based on FCFS order, following the underly- ing charging scheduling priority in Section II. Meanwhile, the LIST in relation to those EVs under charging is sorted with ascending order, where the earliest available time for charging considering all charging slots at a CS, as denoted by LIST.GET(0) is at the head of LIST. In detail, to calculate the charging nish time T fin ev(k) of each EVk waiting for charging, needs to consider the earliest available time of charging slots. Note that only the EVk can be charged during its parking duration will involve calculation, as the condition given by (( LIST.GET(0) T park ev(k) ) < Dev(k) ) at line 23. As presented at lines 25 and 27, either ( LIST.GET(0) + Emax ev(k) Ecur ev(k) ) or ( T park ev(k) + Dev(k) ) is estimated as T fin ev(k), where ( LIST.GET(0) T park ev(k) ) is the waiting time for EVk to start charging. Furthermore, the LIST.GET(0) will be replaced with T fin ev(k), while LIST will be sorted with ascending order upon processing each EVk in the loop. The above loop operation ends when all EVk have been processed, and an updated LIST is returned. B. Detail of Mobility Uncertainty Algorithm 2 Mobility Uncertainty 1: Randomly generate Njam traf c jams 2: for each EV in network do 3: for ljam Njam do 4: calculate ( {ev, ljam} , {ev, ljam} < ) 5: end for 6: lmin jam arg min ( {ev, ljam} , {ev, ljam} < ) 7: if ( lmin jam = null ) then 8: if ( { ev, lmin jam } < ) then 9: if ( { ev, lmin jam } < 10 ) then 10: Sev 0 11: else 12: Sev Sev (( Sev Smin ev ) ) , [0, 1] 13: end if 14: else 15: Sev Sev + ((Smax ev Sev) ) , [0, 1] 16: end if 17: end if 18: end for In Algorithm 2, we detail the implementation of mobility uncertainty due to traf c jams. Here, a number of Njam traf c jams periodically happen in city. The locations ljam of those traf c jams are randomly chosen from the city topology. For each on-the-move EV, its moving speed is varied depends on the most closest traf c jam. Finding the location of closest traf c jam lmin jam is determined by operations between lines 3 and 6. Here, is the range of traf c jam. The speed is uctuated only if the lmin jam is found. This means that there is the closest traf c jam from which the distance to EV is smaller than . If the distance between EV and its closest traf c jam { ev, lmin jam } is smaller than , the EV speed Sev is reduced with a random value at line 12. Particularly, Sev turns to 0 if ( { ev, lmin jam } < 10 ) , pre- sented between lines 9 and 10. This implies that EV is close to the centra of lmin jam, and thus temporarily stops. At line 15, if { ev, lmin jam } is larger than , the EV speed is accelerated with a random value . This implies that the EV is out of the range of the closest traf c jam lmin jam. IEEE TRANSACTIONS ON SYSTEMS, MAN, AND CYBERNETICS: SYSTEMS 6 C. Reporting Reservation Information Whenever a CS-selection decision is made and returned to the EVr (the EV needs charging service) which sent charging request, the following three items together with its ID and the selected CS s ID will be reported to the GA, as the EV s reservation information. Arrival Time: We denote T arr ev as the time slot an EV will arrive at the selected CS, following: T arr ev = Tcur + T tra ev (1) Here, T tra ev is the travelling time measured from the current location of EV to the selected CS, via the shortest road path. Besides, Tcur is the current time in network. Expected Charging Time: We denote T cha ev as the expected charging time upon that arrival, where: T cha ev = Emax ev Ecur ev + Sev T tra ev (2) Here, (Sev T tra ev ) is the energy consumed for the move- ment travelling to the selected CS, based on a constant (de- pending on a certain type EV) measuring the energy consump- tion per meter. Therefore, (Emax ev Ecur ev + Sev T tra ev ) is the expected electricity that an EV needs to be recharged, depending on the charging power provided by CS. Parking Duration: We denote Dev as the parking duration at a CS, meaning how long an EV will park. Note that an EV may depart from a CS due to a short parking duration, even if the EV battery has not been fully recharged. The assumption that the reservation information is trustwor- thy, is vulnerable without ensuring the integrity of messages from EVs to the GA on end-to-end aspects. E.g., forged or wrong reservation information are continuously delivered by the GA to compute quite imprecise estimation for charging waiting time. The general secured vehicular communication framework in [24] can be applied to enable secured delivery of EVs reservation requests towards the GA. D. Expected Charging Waiting Time Estimation At the GA side, the decision making on estimating the expected charging waiting time at a CS, further considers those reported EVs reservation information. Upon this anticipated information, the expected charging waiting time ECWTcs at a CS can be estimated. In this context, the GA will keep track of the charging time of EVs locally parking at a CS, as well as other EVs (with an earlier arrival time than EVr) heading to this CS. The detail regarding this is presented in Algorithm 3, where NR stands for the number of EVs have reserved for charging at a CS. The Algorithm 3 sorts the queue of NR following FCFS order, which is same as the charging scheduling priority. In this case, EVi stands for the ith EV in the queue of NR. As highlighted at line 4, for each T arr ev(i) which is earlier than T arr ev(r), the former will involve the dynamic update of the LIST as returned by Algorithm 3. This means only those EVs (in the queue of NR) with an earlier arrival time than EVr, are considered for calculating the expected charging waiting time. Here, the purpose of such updating is to estimate when a charging slot will be available upon the arrival of EVr. Note that the LIST is initially sorted according to the as- cending order, such that the earliest available time for charging is at the head of LIST for the following loop operation: Algorithm 3 Expected Charging Waiting Time Estimation 1: sort the queue of NR according to FCFS 2: sort LIST returned by Algorithm 1, with ascending order 3: for (i = 1; i NR; i + +) do 4: if ( T arr ev(i) < T arr ev(r) ) then 5: if ( LIST.GET(0) > T arr ev(i) ) then 6: if (( LIST.GET(0) T arr ev(i) ) < Dev(i) ) then 7: if (( LIST.GET(0) T arr ev(i) + T cha ev(i) ) Dev(i) ) then 8: T fin ev(i) = ( LIST.GET(0) + T cha ev(i) ) 9: else 10: T fin ev(i) = ( T arr ev(i) + Dev(i) ) 11: end if 12: end if 13: else 14: if ( T cha ev(i) Dev(i) ) then 15: T fin ev(i) = ( T arr ev(i) + T cha ev(i) ) 16: else 17: T fin ev(i) = ( T arr ev(i) + Dev(i) ) 18: end if 19: end if 20: replace the LIST.GET(0) with T fin ev(i) 21: sort LIST with ascending order 22: end if 23: end for 24: if ( LIST.GET(0) > T arr ev(r) ) then 25: return ECWTcs = ( LIST.GET(0) T arr ev(r) ) 26: else 27: return ECWTcs = 0 28: end if In one case, if T arr ev(i) is earlier than the earliest avail- able time considering all charging slots, as given by ( LIST.GET(0) > T arr ev(i) ) at line 5, the charging nish time T fin ev(i) is calculated by aggregating this available time for charging and the corresponding expected charging time T cha ev(i). In particular, the condition (( LIST.GET(0) T arr ev(i) + T cha ev(i) ) Dev(i) ) at line 7 implies that EVi could be fully recharged before departure and vice versa, where ( LIST.GET(0) T arr ev(i) ) re ects the time to wait for charging. Following lines 8 and 10, T fin ev(i) is thus calculated considering above condition. Note that only the EVi can be charged before departure, would involve the calculation, as the condition given by (( LIST.GET(0) T arr ev(i) ) < Dev(i) ) at line 6. In another case as presented at line 13, EVi will not wait for additional time to start charging. Here, T fin ev(i) is calculated by considering T arr ev(i), T cha ev(i) and Dev(i) following the calculations at lines 15 and 17. By replacing the earliest available time for charging with each T fin ev(i), the available time for charging per charging slot is dynamically updated, until all EVi (in the queue of NR) have been processed. Note that the LIST will be sorted with the ascending order after the process of each EVi, such that the earliest available time for charging is always at the head of IEEE TRANSACTIONS ON SYSTEMS, MAN, AND CYBERNETICS: SYSTEMS 7 LIST for further calculation in the next loop. Upon this loop operation, the arrival time of EVr will be compared with the earliest available time for charging, denoted as the head value in LIST. Then, their differential is estimated as the expected charging waiting time at CS, as EWCTcs presented between lines 25 and 27. Note that the condition ( LIST.GET(0) > T arr ev(r) ) implies that the charging for EVr has to wait for additional ( LIST.GET(0) T arr ev(r) ) time duration. E. CS-Selection Decision Making Algorithm 4 CS-Selection Decision Making 1: for lcs Ncs do 2: calculate T tra ev(r) 3: calculate T min cs,d 4: calculate ECWTcs via Algorithm 3 5: if (( T cha ev(r) + ECWTcs ) Dev(r) ) then 6: T cs,d ev(r) = T tra ev(r) + T cha ev(r) + ECWTcs + T min cs,d 7: else 8: T cs,d ev(r) = T tra ev(r) + Dev(r) + T min cs,d 9: end if 10: end for 11: lmin cs arg min ( T cs,d ev(r) ) 12: return lmin cs By running Algorithm 3, the expected charging waiting time at CS (with location lcs) can be estimated. Upon this, the total trip duration for EVr can be calculated based on following inputs: 1) The travelling time from the current location of EVr to the selected CS, given by T tra ev(r). 2) The duration (including the time to wait for charging and expected charging time) staying at the selected CS, is given by the calculation at line 6 or 8 in Algorithm 4. 3) The estimated minimum travelling time from the se- lected CS to the trip destination of EVr, given by T min cs,d . As stated in assumption of Section II, upon a (fully/not fully) recharged service at the selected CS, EVr will start to travel towards its destination, with the maximum moving speed Smax ev . Therefore, T min cs,d can be obtained by the shortest distance between that CS and trip destination, divided by Smax ev . Based on above, we de ne T cs,d ev(r) as the trip duration for EVr through an intermediate charging. In Algorithm 4, T cs,d ev(r) is obtained as follows: In one case, the total trip duration for EVr through a fully recharged service at an intermediate CS, is given by: T cs,d ev(r) = T tra ev(r) + T cha ev(r) + ECWTcs + T min cs,d (3) Note that the condition (( T cha ev(r) + ECWTcs ) Dev(r) ) at line 5 holds true for a full recharging. This implies EVr will be fully recharged before its departure deadline Dev(r). In another case, a not-fully recharged service due to limited Dev(r) turns to following calculation at line 8: T cs,d ev(r) = T tra ev(r) + Dev(r) + T min cs,d (4) This implies that EVr can only be charged for a period of Dev(r). By running T cs,d ev(r) for each CS, the one meets the minimum trip duration for EVr is selected, and then the GA returns the location of selected CS, as lmin cs back to EVr. F. Reservation Updating Once EVr has con rmed the CS-selection decision (based on the minimum trip duration) from the GA by reporting its charging reservation, EVr will further periodically send the reservation update request during its journey. The GA then runs Algorithm 4 based on the updated information obtained from CSs and other EVs making reservations. Under such updated condition, the CS (newly decided CS) which meets the minimum trip duration for EVr is found. Algorithm 5 Reservation Updating 1: nd lcs via Algorithm 4 2: if (lcs = lcs) then 3: if ( T cs,d ev(r) < T cs,d ev(r) ) then 4: if (( T cha ev(r) + ECWTcs ) Dev(r) ) then 5: cancel reservation at CS 6: make reservation at CS 7: change charging plan towards CS 8: else if (( T cha ev(r) + ECWTcs ) > Dev(r) ) then 9: cancel reservation at CS 10: make reservation at CS 11: change charging plan towards CS 12: end if 13: end if 14: end if If the CS is different from the one decided previously, a comparison is then made in terms of total trip duration T cs,d ev(r). The core idea is to monitor the entire network condition through periodically updated EVs reservations, and adjust the CS-selection decision making to minimize the trip duration for EVr. Here, the decision change logic is only executed if T cs,d ev(r) is shorter than that of previously selected CS, given by ( T cs,d ev(r) < T cs,d ev(r) ) . Driven by this decision change, EVr will then con rm this new decision. It next informs the GA to cancel its reservation at the previously selected CS, and records a new reservation at CS (the newly decided CS). Above operations run periodically, while no additional communication will be established if there is no decision change. In order not to include too much communication overhead due to a subtle reduced trip duration, only the following two conditions will trigger decision change. In the ideal case, the decision change is made given (( T cha ev(r) + ECWTcs ) Dev(r) ) . This guarantees EVr can still be fully recharged at CS. Otherwise, if EVr cannot be fully recharged at both previous CS and CS given by condition at line 8, the CS IEEE TRANSACTIONS ON SYSTEMS, MAN, AND CYBERNETICS: SYSTEMS 8 from which EVr will experience a shorter trip duration is still selected. The motivation behind this considers the mobility uncer- tainty, that the varied EV moving speed Sev during journey will inevitably affect the accuracy of EVs reservation infor- mation used in Algorithm 3. In the worst case, an inaccurate estimation may result in a longer expected charging waiting time for EVr, and its complete charging service may not be nished due to limited parking duration. G. Discussion Actually, the decision change for EVr is based on three aspects: The time spent to travel towards that CS. The time spent at CS (expected time to wait for charging + expected charging time). The travelling time spent from that certain CS to the destination of EVr. Our design has an arbitrage to omit decision changed in line with a subtly reduced trip duration. This is achieved by holding the condition that, the sum of time to wait for charging and expected charging time, cannot exceed the EV parking duration. If a CS-selection decision will change, we obtain: The expected charging time is increased due to energy consumption from movement. Also, the travelling time towards the current CS is re- duced, due to a proximity to CS. As such, a substantially reduced time to wait for charging, plays an important role in improving the total trip duration (Such waiting time has signi cant impact on re-selecting a new CS that is geographically different from previous CS). Even if they adjust charging plans after the decision change of EVr, there is no disadvantage for other EVs, given by the certain parking duration (meaning they move towards a newly selected CS, but experience a longer charging waiting time and trip duration). Based on above, we further introduce the following no- tations to facilitate problem formulation of charging waiting time: lcs: Number of EVs currently parking at a CS. lcs: Average charging waiting time for each EV cur- rently parking at a CS. W: Total charging waiting time for all EVs in network. Straightforwardly, we obtain: To minimize W = lcs Ncs lcs lcs (5) Here, note that lcs is a function of Ncs. This is because that a larger number of Ncs enables a small lcs EVs distributed at each CS. Furthermore, lcs is related to lcs, , . This is re ected by the fact, a larger number of lcs EVs intend to charge at a CS, inevitably increases their average charging waiting time at this CS. Of course, both a fast charging power and more charging slots will reduce such time. In order to achieve the minimum waiting time for EVs allocated at Ncs CSs, thus lcs lcs should be equal among all CSs, as ideal situation. Since all CSs share the same and , we obtain lcs = F( 1 Ncs ), and lcs = F( lcs ) to achieve the minimum charging waiting time. The following evaluation results will address all factors involved in this discussion. Due to mobility uncertainty, the charging management towards an equal number of EVs associated to each CS is dif cult to achieve. Therefore, a frequently updated charging reservation from EVs, contributes to balancing the charging load at each CS, so as to reduce waiting time. V. PERFORMANCE EVALUATION CS2 CS1 CS3 CS4 CS5 CS6 CS7 Fig. 4. Simulation Scenario of Helsinki City Fig. 5. Google Map of Helsinki City We have built up an entire EV charging system in Op- portunistic Network Environment (ONE) [25]. In Fig.4, the default scenario with 4500 3400 m2 area is shown as the down town area of Helsinki city abstracted from Google map (Fig.5) in Finland. Here, 240 EVs with [30 50] km/h variable moving speed are initialized in the network. The destination of each EV trip is randomly selected from a location in the map. Particularly, once the current destination IEEE TRANSACTIONS ON SYSTEMS, MAN, AND CYBERNETICS: SYSTEMS 9 is reached, a new destination is randomly chosen again. Such procedure is repeated until the EV reaches the SOC threshold and then requests charging service. The con guration of EVs follows the charging speci cation {Maximum Electricity Capacity (MEC), Max Travelling Distance (MTD), Status Of Charge (SOC) threshold}. We con gure three types of EVs, which are: Coda Automotive [26] {33.8 kWh, 193 km, 30%}, aver- age energy consumption 0.1751 kWh/km. Wheego Whip [27] {30 kWh, 161 km, 40%}, average energy consumption 0.1863 kWh/km. Hyundai BlueOn [28] {16.4 kWh, 140 km, 50%}, average energy consumption 0.1171 kWh/km. Here, the electricity consumption for the Traveled Distance (TD) is calculated based on MEC TD MTD , as widely used in literature such as [15]. Each type is with 80 EVs, and all EVs batteries are with full volume at beginning, depending on their types. Besides, 7 CSs are provided with suf cient electric energy and 5 charging slots through entire simulation, using the fast charging rate of 62 kW. This is different from previous works on demand response where the charging power is dy- namically adjusted. Furthermore, using the constant charging power in our work can refer to many previous works on common CS-selection schemes e.g, [10], [16]. If the ratio between its current energy and maximum energy is below the value of SOC, the EV would travel towards a decided CS for charging. Here, the shortest path towards CS is formed considering the Helsinki road topology. In reality, we believe the GA is with a super power and super computation capability to make charging plans for all EVs in large scale network. Under this con guration, the charging management is essen- tial as some EVs need to wait additional time for charging, until a charing slot is available. The following schemes are evaluated for comparison: MTD&RU: The proposed CS-selection scheme with min- imum trip duration, with periodical reservation updating. The default updating interval is 100s. MTD: The proposed CS-selection scheme with minimum trip duration, without reservation updating. MCWT: The CS-selection is based on the minimum expected charging waiting time as proposed in [16]. This scheme does not consider the limited EV parking duration. MQT: The CS-selection is based on the minimum queu- ing time as proposed in [9]. The simulation represents a 12 hours duration with a 0.1s resolution. So, the EVs positions, speeds and energies are updated every 0.1s, on the road or in a CS. Particularly, Njam = 30 randomly generated traf c jams happen for every 300s, while its range is 300m. Therefore, each EV will adjust its moving speed, if the distance between its location and a traf c jam is smaller than 300m. All traf c jams will last for 100s since generation. The following performance metrics are evaluated: Average Charging Waiting Time: The average period between the time an EV arrives at the selected CS and the time it nishes (full) recharging its battery. This is the performance metric at the EV side. Number of Fully Charged EVs: The total number of fully charged EVs in the network. This is the performance metric at the CS side. It is appreciated that EVs can be fully charged within their limited parking duration. In the worst case, traveling to a CS but could not have chance for charging within the parking duration, certainly degrades user QoE. If that happens, the EV needs charging service would have to continuously nd a CS for charging. Average Trip Duration: The average time that an EV experiences for its trip, through recharging service at an intermediate CS. This is the performance metric at the EV side. Number of Decision Changes: Number of deci- sion changes for CS-selection, this only happens in MTD&RU. This is the performance metric at system level. A. In uence of Parking Duration In Fig.6(a), we observe that a longer parking duration increases the average charging waiting time. This is because more EVs can be fully charged at CSs, as such the time for other parking EVs waiting for charging is increased. Particularly, MTD without reservation updating still achieves a better performance, than MCWT and MQT, due to taking the parking duration into account. Concerning uncertain EVs mobility due to traf c jams, MTD&RU bene ts from the reservation updating to adjust EVs charging plans. Due to the same reason, in Fig.6(b), MTD&RU charges a higher number of EVs compared to MTD. In Fig.6(c), both MTD&RU and MTD achieve much reduced trip duration than other schemes. In spite that the advantage of MCWT over MQT has already been examined in [16], both MTD&RU and MTD outperforms MCWT. Particularly, if with an extremely short parking duration e.g., 300s, the waiting time is always zero and the EVs are never fully charged, with only the trip duration is captured. B. In uence of Charging Slots If increasing the number of charging slots at CSs, all performances are improved in Fig.7(a), Fig.7(b) and Fig.7(c) respectively. In particular, MQT bene ts more from increased charging slots than other schemes. This implies that only considering the local condition of CSs is not suggested for achieving an optimal performance, particularly when CSs are in congestion. Here, the proposed MTD&RU and MTD still show their shorter charging waiting time over MCWT, even with 3 charging slots that highly possible to overload CSs. Besides, the total trip duration is remarkably reduced by MTD&RU and MTD. Fig.8 further shows the number of charged EVs at each CS. It is observed that MTD&RU and MTD achieve a relatively balanced distribution among CSs, compared to MCWT and MQT. This re ects advantage of our proposed estimation on charging waiting time, concerning limited parking duration. IEEE TRANSACTIONS ON SYSTEMS, MAN, AND CYBERNETICS: SYSTEMS 10 0 200 400 600 800 1000 300 600 1200 1800 Average Charging Waiting Time (Seconds) Parking Duration (Seconds) MTD&RU MTD MCWT MQT (a) Average Charging Waiting Time 0 100 200 300 400 500 300 600 1200 1800 Number of Fully Charged EVs Parking Duration (Seconds) MTD&RU MTD MCWT MQT (b) Number of Fully Charged EVs 0 500 1000 1500 2000 2500 300 600 1200 1800 Average Trip Duration (Seconds) Parking Duration (Seconds) MTD&RU MTD MCWT MQT (c) Average Trip Duration Fig. 6. In uence of Parking Duration, 3 Charging slots 0 200 400 600 800 1000 1200 3 5 7 Average Charging Waiting Time (Seconds) Number of Charging Slots MTD&RU MTD MCWT MQT (a) Average Charging Waiting Time 0 100 200 300 400 500 3 5 7 Number of Fully Charged EVs Number of Charging Slots MTD&RU MTD MCWT MQT (b) Number of Fully Charged EVs 0 500 1000 1500 2000 2500 3 5 7 Average Trip Duration (Seconds) Number of Charging Slots MTD&RU MTD MCWT MQT (c) Average Trip Duration Fig. 7. In uence of Charging Slots 0 200 400 600 800 1000 1200 1400 26 44 62 Average Charging Waiting Time (Seconds) Charging Power (kW) MTD&RU MTD MCWT MQT (a) Average Charging Waiting Time 0 100 200 300 400 500 26 44 62 Number of Fully Charged EVs Charging Power (kW) MTD&RU MTD MCWT MQT (b) Number of Fully Charged EVs 0 500 1000 1500 2000 2500 26 44 62 Average Trip Duration (Seconds) Charging Power (kW) MTD&RU MTD MCWT MQT (c) Average Trip Duration Fig. 9. In uence of Charging Power 0 50 100 150 200 MTD&RU MTD MCWT MQT Number of Charged EVs at Each CS CS1 CS2 CS3 CS4 CS5 CS6 CS7 Fig. 8. Distribution of Number of Charged EVs at Each CS, 5 Charging Slots C. In uence of Charging Power Results in Fig.9(a), Fig.9(b) and Fig.9(c) show that re- duced charging power however makes more EVs get stuck at CSs. Thus, the charging waiting time and trip duration are increased, while number of charged EVs is reduced. D. In uence of Mobility Uncertainty Here, we examine the in uence of mobility uncertainty in term of number of traf c jams. In Fig.10(a), the average charging waiting time is reduced, if Njam is increased from 10 to 30, and with a uctuation from 30 to 50 traf c jams. Meanwhile, the number of charged EVs is dramatically re- duced in Fig.10(b). This is because more EVs have to reduce speed or even stop when moving on the road, thus they cannot be charged timely. Due to the same reason, the average trip duration is increased in Fig.10(c). Here, the proposed MTD&RU and MTD also outperform other schemes in this case. E. In uence of Reservation Updating Interval Results in TABLE II show that a frequent reservation updating interval improves the charging performance. This is because an updated CS-selection is made frequently, such that the EV charging planning would be adjusted depending on the dynamically generated traf c jams. From 50s to 10s updating interval, we observe a subtle improvement regarding number IEEE TRANSACTIONS ON SYSTEMS, MAN, AND CYBERNETICS: SYSTEMS 11 0 200 400 600 800 1000 1200 10 30 50 Average Charging Waiting Time (Seconds) Number of Traffic Jams MTD&RU MTD MCWT MQT (a) Average Charging Waiting Time 0 100 200 300 400 500 600 700 800 10 30 50 Number of Fully Charged EVs Number of Traffic Jams MTD&RU MTD MCWT MQT (b) Number of Fully Charged EVs 0 500 1000 1500 2000 2500 10 30 50 Average Trip Duration (Seconds) Number of Traffic Jams MTD&RU MTD MCWT MQT (c) Average Trip Duration Fig. 10. In uence of Traf c Jams TABLE II INFLUENCE OF RESERVATION UPDATING INTERVAL Updating Frequency Average Charging Waiting Time Number of Charged EVs Average Trip Duration Number of Decision Changes 10s 830s 460 1321s 230 50s 834s 456 1327s 65 100s 836s 456 1326s 18 200s 841s 449 1388s 13 300s 844s 442 1404s 7 of charged EVs as well as average trip duration. While, there is a huge communication overhead given 10s updating interval. Here, the communication overhead is re ected by number of CS-selection changes, as a decision change is normally in line with operations for reservation canceling and remaking. By jointly considering these, we choose 100s reservation updating interval as a trade-off between charging performance and communication overhead under our scenario. F. Future Works There are several concerns leading to our future works: It is user-friendly to further concern a dedicated amount of user-reserved energy charging service. This is different from the perceived fully charged service in this article. Bringing such additional user speci c requirement is one of the efforts towards better user QoE. It is worth to bring advanced charging technologies, such as battery switch to provide fast services (which just takes few minutes). In more detail, the EV could deplete its battery upon arriving at a CS, then switches with a fully charged battery. The depleted battery from the EV is charged by CS itself. Since the decision making for on-the-move EV charging management relies on the GA, the charging system suf- fers more from security and scalability aspects. Attackers can manipulate the reservation reported from EVs, and also the CS-selection decisions from the GA to EVs. Furthermore, if the GA fails to work, the charging man- agement system will not work. Future work could focus on provisioning of an ef cient, scalable communication framework. VI. CONCLUSION In this article, we proposed a CS-selection scheme in a charging management system to minimize the EVs trip dura- tion. The selection computation takes EVs parking duration and their charging reservations into account, so as to capture an accurate condition of CSs and anticipated EVs mobility. It is highlighted that under the scenario where the mobility uncertainty in uences the accuracy of EVs reservation infor- mation, a periodical reservation updating is executed to adjust the charging plans. Evaluation results under the Helsinki city scenario showed the advantage of our proposal, in terms of a shorter EVs trip duration through intermediate charging, a shorter charging waiting time as well as a higher number of charged EVs. ACKNOWLEDGMENT We would like to acknowledge the support of the Na- tional Natural Science Foundation (61102105); the Post- doctoral start foundation of Heilongjiang Province (LBH- Q12117); the Foundation for Innovative Research of Harbin (2015RAQXJ008); the Fundamental Research Funds for the Central Universities (GK2080260138), and also the support of the University of Surrey 5G Innovation Centre (5GIC) (http://www.surrey.ac.uk/5gic) members for this work. REFERENCES [1] S. Liu, P. Liu, and A. El Saddik, Modeling and Stability Analysis of Automatic Generation Control Over Cognitive Radio Networks in Smart Grids, IEEE Transactions on Systems, Man, and Cybernetics: Systems, vol. 45, no. 2, pp. 223 234, February 2015. [2] L. Schewel and D. M. Kammen, Smart Transportation: Synergizing Electri ed Vehicles and Mobile Information Systems, Environment: Science and Policy for Sustainable Development, vol. 52, no. 5, pp. 24 35, September, 2010. [3] J. Mukherjee and A. Gupta, A Review of Charge Scheduling of Electric Vehicles in Smart Grid, IEEE Systems Journal, vol. 9, no. 4, pp. 1541 1553, December, 2015. [4] J. Luo, H. Ni, and M. Zhou, Control Program Design for Automated Guided Vehicle Systems via Petri Nets, IEEE Transactions on Systems, Man, and Cybernetics: Systems, vol. 45, no. 1, pp. 44 55, January 2015. [5] T. Winkler, P. Komarnicki, G. Mueller, G. Heideck, M. Heuer, and Z. Styczynski, Electric Vehicle Charging Stations in Magdeburg, in IEEE VPPC 09, Dearborn, Michigan, September, 2009. [6] S.-N. Yang, W.-S. Cheng, Y.-C. Hsu, C.-H. Gan, and Y.-B. Lin, Charge Scheduling of Electric Vehicles in Highways, Elsevier Mathematical and Computer Modelling, vol. 57, no. 11C12, pp. 2873 2882, June, 2013. [7] M. Gharbaoui, L. Valcarenghi, R. Bruno, B. Martini, M. Conti, and P. Castoldi, An Advanced Smart Management System for Electric Vehicle Recharge, in IEEE IEVC 2012, Greenville, SC, USA, March, 2012. [8] F. Hausler, E. Crisostomi, A. Schlote, I. Radusch, and R. Shorten, Stochastic Park-and-Charge Balancing for Fully Electric and Plug- in Hybrid Vehicles, IEEE Transactions on Intelligent Transportation Systems, vol. 15, no. 2, pp. 895 901, April, 2014. IEEE TRANSACTIONS ON SYSTEMS, MAN, AND CYBERNETICS: SYSTEMS 12 [9] Y. Cao, N. Wang, and G. Kamel, A Publish/Subscribe Communication Framework For Managing Electric Vehicle Charging, in IEEE ICCVE 14, Vienna, Austria, November, 2014. [10] H. Qin and W. Zhang, Charging Scheduling With Minimal Waiting in a Network of Electric Vehicles and Charging Stations, in ACM VANET 11, Las Vegas, Nevada, USA, September, 2011. [11] R. Wang, P. Wang, G. Xiao, and S. Gong, Power Demand and Supply Management in Microgrids with Uncertainties of Renewable Energies, Elsevier International Journal of Electrical Power & Energy Systems, vol. 63, pp. 260 269, December, 2014. [12] R. Wang, P. Wang, and G. Xiao, A Robust Optimization Approach for Energy Generation Scheduling in Microgrids, Elsevier Energy Conversion and Management, vol. 106, pp. 597 607, 2015. [13] E. Rigas, S. Ramchurn, and N. Bassiliades, Managing Electric Vehicles in the Smart Grid Using Arti cial Intelligence: A Survey, IEEE Transactions on Intelligent Transportation Systems, vol. 16, no. 4, pp. 1619 1635, August, 2015. [14] E. Rigas, S. Ramchurn, N. Bassiliades, and G. Koutitas, Congestion Management for Urban EV Charging Systems, in IEEE SmartGrid- Comm 13, Vancouver, Canada, October, 2013. [15] M. M. de Weerdt, E. Gerding, S. Stein, V. Robu, and N. R. Jennings, Intention-Aware Routing to Minimise Delays at Electric Vehicle Charg- ing Stations, in AAAI 13, Bellevue, Washington, USA, July, 2013. [16] Y. Cao, N. Wang, G. Kamel, and Y.-J. Kim, An Electric Vehicle Charg- ing Management Scheme Based on Publish/Subscribe Communication Framework, IEEE Systems Journal, vol. PP, no. 99, pp. 1 14, 2015. [17] Y. Cao, N. Wang, Y. J. Kim, and C. Ge, A Reservation Based Charging Management for On-the-move EV Under Mobility Uncertainty, in OnlineGreenComm 15, November, 2015. [18] M. Erol-Kantarci and H. Mouftah, Prediction-Based Charging of PHEVs From the Smart Grid With Dynamic Pricing, in IEEE LCN 10, Denver, Colorado, USA, October, 2010. [19] E. Gerding, S. Stein, V. Robu, D. Zhao, and N. R. Jennings, Two- Sided Online Markets for Electric Vehicle Charging, in AAMAS 13, Saint Paul, Minnesota, USA, May, 2013. [20] C. Flath, S. Gottwalt, and J. Ilg, A Revenue Management Approach for Ef cient Electric Vehicle Charging Coordination, in IEEE HICSS 12, Maui, Hawaii, USA, January, 2012. [21] C. M. Flath, J. Ilg, S. Gottwalt, H. Schmeck, and C. Weinhardt, Im- proving Electric Vehicle Charging Coordination Through Area Pricing, Transportation Science, vol. 48, no. 4, pp. 619 634, July, 2013. [22] F. Pan, R. Bent, A. Berscheid, and D. Izraelevitz, Locating PHEV Exchange Stations in V2G, in IEEE SmartGridComm 10, Maryland, USA, October 2010. [23] C. Sommer, R. German, and F. Dressler, Bidirectionally Coupled Network and Road Traf c Simulation for Improved IVC Analysis, IEEE Transactions on Mobile Computing, vol. 10, no. 1, pp. 3 15, January, 2011. [24] F. Kargl, P. Papadimitratos, L. Buttyan, M. Muter, E. Schoch, B. Wieder- sheim, T.-V. Thong, G. Calandriello, A. Held, A. Kung, and J.-P. Hubaux, Secure Vehicular Communication Systems: Implementation, Performance, and Research Challenges, IEEE Communications Maga- zine, vol. 46, no. 11, pp. 110 118, November, 2008. [25] A. Ker anen, J. Ott, and T. K arkk ainen, The ONE Simulator for DTN Protocol Evaluation, in ICST SIMUTools 09, Rome, Italy, March, 2009. [26] [Online]. Available: www.codaautomotive.com. [27] [Online]. Available: wheego.net. [28] [Online]. Available: wikipedia.org/wiki/Hyundai BlueOn. Yue Cao received his PhD degree from the Institute for Communication Systems (ICS) formerly known as Centre for Communication Systems Research, at University of Surrey, Guildford, UK in 2013. Further to his PhD study, he was a Research Fellow at the ICS. Since October 2016, he has been the Lecturer in Department of Computer Science and Digital Technologies, at Northumbria University, Newcastle upon Tyne, UK. His research interests focus on Delay/Disruption Tolerant Networks, Electric Vehi- cle (EV) charging management, Information Centric Networking (ICN), Device-to-Device (D2D) communication and Mobile Edge Computing (MEC). Wang Tong is an Associate Professor at Infor- mation and Communication Engineering College, Harbin Engineering University, China. He received PhD degree in Computer Application from Harbin Engineering University in 2006. His research in- terests include Wireless Sensor Networks (WSNs), Vehicular Ad-Hoc Networks (VANETs) and Internet of Things (IoT). Omprakash Kaiwartya received his Ph.D., degree in Computer Science from School of Computer and Systems Sciences, Jawaharlal Nehru University, New Delhi, India in 2015. He is currently a Post- Doc Research Fellow at Faculty of Computing, Universiti Teknologi Malaysia (UTM), Johor Bahru, Malaysia. His research interests include Vehicular Ad-hoc Networks, Mobile Ad-hoc Networks and Wireless Sensor Networks. Geyong Min is a Professor of High Performance Computing and Networking in the Department of Mathematics and Computer Science at the Univer- sity of Exeter, UK. He received the PhD degree in Computing Science from the University of Glasgow, UK, in 2003. His research interests include Future Internet, Computer Networks, Wireless Communi- cations, Multimedia Systems, Information Security, High Performance Computing, Ubiquitous Comput- ing, Modelling and Performance Engineering. Naveed Ahmad received his BSc (Computer Sci- ences) honors degree from University of Peshawar, Pakistan in 2007, and PhD in Electronics and Elec- trical Engineering from Institute of Communication System, University of Surrey, UK in 2013. He is currently serving as Assistant Professor in Depart- ment of Computer Science, University of Peshawar, Pakistan. He research interests include routing, se- curity and privacy in emerging networks such as Ve- hicular Adhoc Networks (VANETS), Delay Tolerant Networks (DTN) and Internet of Things (IoT). Abdul Hanan Abdullah received his Ph.D. degree from Aston University in Birmingham, United King- dom in 1995. He is currently working as a Profes- sor at Faculty of Computing, Universiti Teknologi Malaysia, Johor Bahru, Malaysia. He was the dean at the faculty from 2004 to 2011. Currently he is heading Pervasive Computing Research Group, a research group under K-Economy Research Al- liances. His research interests include Wireless Sen- sor Networks, Vehicular Adhoc Networks, Internet of Vehicles, Network Security and Next Generation Networks.