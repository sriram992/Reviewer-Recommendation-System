See discussions, stats, and author profiles for this publication at: https://www.researchgate.net/publication/276167982 Cognitive cross-layer multipath probabilistic routing for cognitive networks Article in Wireless Networks May 2014 DOI: 10.1007/s11276-014-0847-2 CITATIONS 10 READS 113 2 authors: Some of the authors of this publication are also working on these related projects: Mobile and Static Cognitive Wireless Sensor Networks(Funded by DIETY, Govt of India) View project Software Define Networks View project Deepti Singhal International Institute of Information Technology, Hyderabad 17 PUBLICATIONS 83 CITATIONS SEE PROFILE Rama Murthy Garimella Mahindra Ecole Centrale, Hyderabad, India 189 PUBLICATIONS 810 CITATIONS SEE PROFILE All content following this page was uploaded by Deepti Singhal on 26 July 2016. The user has requested enhancement of the downloaded file. Cognitive cross-layer multipath probabilistic routing for cognitive networks Deepti Singhal Rama Murthy Garimella  Springer Science+Business Media New York 2014 Abstract Mobile Ad-hoc NETworks (MANETs) is a set of mobile nodes that can move around arbitrarily, and com- municate with others in a multi-hop fashion without any assistance of base stations. With recent advances in Cogni- tive Radio (CR) technology, it is possible to apply the Dynamic Spectrum Access model in MANETs. This intro- duces the concept of Cognitive Radio Ad Hoc Networks (CRAHNs). Applying CR techniques provides better throughput, even in congested spectrum along with better propagation characteristics. CRAHN is a kind of intelligent network that is aware of its surrounding environment, and adapts to the transmission or reception parameters to achieve ef cient communication without interfering with primary users. Routing in CR environment is a challenging task as the availability of channel is constrained by the presence of primary user. The problem of routing in CRAHNs targets the creation and maintenance of wireless multi-hop paths among cognitive nodes by deciding both the spectrum to be used and the relay nodes of the path. This paper proposes a cognitive cross-layer multipath probabilistic routing for cognitive radio based networks. The proposed solution uses spectrum holes identi ed by MAC layer, decides the channel to be used and transmit power level for each hop in the path. The proposed solution is implemented in NS2, and performance of the proposed solution is compared with the existing solution from the literature. The paper also shows that the proposed solution outperforms existing solution in terms of packet delivery ratio, average end-to-end delay and energy consumed per data packet. Keywords Cognitive radio  Ad hoc networks  Cross layer design  Routing protocols 1 Introduction Traditionally wireless networks are running with xed spectrum assignment policy regulated by government agencies. Spectrum is assigned to service providers on a long term basis for large geographical regions. These spectrum s were allowed to be used by licensed users, but Federal Communications Commission (FCC) measure- ments have indicated that 90 % of the time, many licensed frequency bands remain unused [1]. In order to better uti- lize the licensed spectrum, FCC has launched a secondary markets initiative [2], whose goal is to remove regulatory barriers and facilitate the development of secondary mar- kets in spectrum usage rights among the wireless radio services. The inef cient usage of the existing spectrum can be improved through opportunistic access to the licensed bands without interfering with the primary users. This introduces the concept of dynamic spectrum allocation, which implicitly requires the use of cognitive radio [3] to improve spectral ef ciency. CR is an intelligent wireless communication system that is aware of its surrounding environment. It dynamically adapts to the transmission or reception parameters of either a network or a node to achieve ef cient communication without interfering with primary users. Majority of research on CR networks and CRAHNs [4] is centered around single-hop scenarios, mostly giving solution for physical and MAC layer issues. Recently, the research community has started exploring multi-hop CR networks which can open up new service possibilities. In order to explore the potential of CRAHNs, challenges in D. Singhal (&)  R. M. Garimella International Institute of Information Technology, Hyderabad 500 032, India e-mail: deepti.singhal@research.iiit.ac.in; deeptis.singhal@gmail.com 123 Wireless Netw DOI 10.1007/s11276-014-0847-2 upper layers must be addressed. In the traditional OSI model of communication, strict boundaries between layers are enforced and meta-data for layers are kept unavailable to other layers. While in cross layer solution strict boundaries are removed and exchange of meta-data is permitted across the layers. The layered OSI model for communication was build for wired communication and later adapted to the wireless communication. Issues with wireless links and opportunistic behavior of cognitive networks are the main motivations to cross layer design in CRAHNs. In cognitive wireless environment, several problems cannot be handled by layered communication, for example link unavailability due to the primary user activity could be mistaken as network congestion at transport layer protocol and with TCP as a transport layer protocol, this may cause to increase the size of congestion window. Cognitive networks use spectrum opportunities for com- munication where dynamic adaptability to the transmission or reception parameters is required. Paper [5] also shows that the cross layer solutions are more effective than lay- ered solutions where dynamic adaptation of parameters is required. In cognitive networks, spectrum availability is updated by MAC Layer and based on the available spectrum physical layer parameters like transmit power; modulation technique etc. should be changed. This change in the channel parameters may affect the quality of service of the path selected and hence must be considered while taking decisions at the upper layers. Lower layer optimization without considering network layer protocols can lead to sub-optimal solution. In order to explore the potential of these networks, challenges in upper layers including multi- hop scenarios must be addressed. In particular, effective routing solution should be integrated into the work already carried out on the lower layers. For example, an optimized MAC protocol may provide the best channel/power/rate assignment for a particular link; but such an assignment can be quite inef cient for end-to-end path of the ow. This necessitates that the decisions at upper layers should consider and re ect the parameters of lower layer; hence cross layer solutions are must for the design of cognitive networks. For cross layer design of the network, objectives from different layers should be combined to one optimi- zation problem to ensure QoS at each layer. In literature few routing algorithms have been proposed for cognitive radio based networks [6 12], with their respective advantages and trade-offs. This paper proposes a new cross layer routing for cognitive networks, called Cognitive Cross-layer Multipath Probabilistic Routing (CCMPR) that jointly does power control, spectrum selection and node selection. The proposed solution mixes the channel selection of MAC layer and transmit power control of physical layer with routing which cause dynamic adaptation of these parameters more effective in opportu- nistic environment as discussed above. For performance evaluation, proposed solution is implemented in Network Simulator 2 (NS2) [13] and comparative analysis is also done against existing solution from the literature. The paper also validates that the proposed solution gives better results. The rest of this paper is organized as follows. In Sect. 2, existing solutions from literature are discussed. Section 3 presents the proposed algorithm, CCMPR, bringing out its main points. Section 4 discusses the simulation results of the proposed algorithm. Finally, Sect. 5 contains a sum- mary of the work done. 2 Related work In literature, various routing algorithms were proposed for cognitive networks. In this section we discuss some of the existing solutions and their issues. Cognitive Ah-hoc On-demand Distance Vector (CAO- DV) [6, 7] routing modi es the existing Ah-hoc On- demand Distance Vector (AODV) protocol such that it avoids PU activity areas and applies joint path and channel selection. This protocol broadcasts the route request to neighbors on each channel and for each available channel it stores multiple paths for a destination. Drawbacks of the protocol are: (1) Applying the shortest path solution without considering channel characteristics in cognitive networks does not give the optimal solution, (2) Flooding the route request packet on all the channels leads to over- head and reduce network life time. Ant-based Spectrum Aware Routing (ASAR) [8] pro- vides the feature of self adaptation to path and spectrum availability. In this protocol, forward ants are broadcasted on control channels and stores the node address in the forward ant if spectrum opportunity is found. Thus, for- ward ant travels and records a spectrum feasible path for data transmission between source and destination. The backward ants update the statistic history and path quality in routing table. A deterministic policy for path selection is used in place of probabilistic forwarding to minimize channel hand-off time. Drawbacks of the protocol are: (1) Each ant contains a list of all nodes in the path which results in high overhead on control channel, and (2) Mobility of cognitive users are not taken into the consideration. SpEctrum Aware Routing protocol for Cognitive AdHoc networks (SEARCH) [9, 10] presents the shortest path based greedy approach for path selection. The objective of the protocol is to minimize hop-count and switching delay which intern minimizes end-to-end delay. Every interme- diate hop add its ID, current location, time stamp and ag Wireless Netw 123 status indicating the current propagation mode of the algorithm into the route request packet. The drawbacks of the protocol are: (1) The increased size of route request causes high overhead, (2) Route request is forwarded on each channel which also increase the overhead and reduce network s life time, and (3) SEARCH requires location awareness. Considering location awareness is not favorable as GPS service availability to all nodes in network might not be feasible, because: In the presence of dense forests, mountains or other obstacles that block the line-of-sight from GPS satel- lites, GPS cannot be implemented. The power consumption of GPS will reduce the battery life of the nodes and also reduce the effective lifetime of the entire network. In a network with large number of nodes, the produc- tion cost factor of GPS is an important issue. Cognitive Routing Protocol (CRP) [11] presents solution for joint spectrum and node selection for cognitive net- works. This protocol de nes two classes of cognitive users. The rst class tries to minimize the end-to-end CR route latency, while the second class gives greater importance to the PU protection. Second class of ows are of interest in cognitive networks as cognitive user should not interfere with the PUs while using the licensed spectrum. In CRP, each user rst identi es the best locally available spectrum band. Selection of spectrum band is de ned as an optimi- zation problem where the constraints are: Probability of spectrum band availability is greater than the user de ned limit. Bit arrival variance of the spectrum band must meet the minimum user de ned threshold. Spectrum selection should not cause the severe multi- path fading, i.e. coherence bandwidth of the spectrum band is less than the signal bandwidth. Switching latency must be contained within the prede- ned threshold. After spectrum band selection, next hops are selected based on minimum forwarding delay. Drawbacks of the protocol are: (1) the channel characteristics such as bandwidth are not considered while selecting spectrum band, (2) CRP also assumes location awareness, (3) results of the paper also show that the performance of CRP is average for ows of second class, (4) the spectrum selection rule of CRP uses probability of PU availability and not the actual sensing output, hence can interfere to PUs. Optimal Primary-awarE Route quAlity (OPERA) [12] presents the metric which calculates the link delay and end- to-end delay for any pair of source and destination nodes. Link delays are calculated considering the probability of link availability, expected throughput, and sensing process characteristics. This metric gives the theoretical bound to end-to-end delay. OPERA combined with Dijkstra [14] and Bellman-Ford [15] algorithm for searching shortest path in weighted graph gives optimal results. The drawbacks of OPERA are: (1) it lacks in route recovery process, (2) the overhead for calculating the ef cient route is very high as the weighted metric of OPERA should be calculated mul- tiple times and hence the Dijkstra or Bellman-Ford algo- rithm should also search for the shortest path multiple times, (3) the OPERA routing metric uses probability of PU availability and not the actual sensing output, hence can interfere to PUs. Papers [16, 17] present the survey of different routing metrics for cognitive radio networks. Most of the presented solutions were inherited from solutions in traditional ad hoc routing protocols, i.e. the routing metrics are old metrics like hop-count or delay, and algorithms send data only in spectrum opportunities. In cognitive networks, the nodes should adapt to available channel parameters. The spectrum availability is updated by MAC layer. Based on the available spectrum, physical layer parameters (like transmit power, modulation technique etc.) should be changed. Hence the decisions at routing layer in cognitive networks should consider lower layer parameters. Thus a cross layer solution with hybrid metric that combine dif- ferent routing metrics is must. The target goals for routing in CR networks are: 1. Use spectrum opportunities effectively to bene t secondary users without causing harmful interference to primary users. 2. Save energy of nodes to increase the network lifetime. 3. Minimize end-to-end delay. 4. Increase throughput. 5. Improve route stability. 3 CCMPR This section discusses the proposed cross-layer solution for routing, spectrum management and power control in CRAHNs. The proposed solution have the following characteristics: Cognitive routing: the routing method jointly exploits route and spectrum diversities and uses spectrum opportunities for data transmission. Cross layer solution: the routing method uses spectrum opportunities while jointly selecting node and spec- trum. It also selects a transmit power level for each hop in the route based on the channel history. CCMPR simultaneously deals with network, MAC and physical layer issues. Wireless Netw 123 Multi-path routing: the routing method sets up multiple paths for one destination. Due to spectrum unavailabil- ity or mobility of nodes one path may not be available, in such situations other paths can be used. Probabilistic routing: the routing method has the probability of selecting every path which help in balancing the load between nodes. Reactive routing: the routes are searched only if node has data to send. 3.1 Routing metric First, we de ne the problem of routing as a multi-objective optimization problem to drive the cost function and then the cost function is used as a routing metric. Details about multi-objective optimization can be found in [18]. In CCMPR metric, cost for transmitting packet from node i to node j on channel m, represented by Cm ij , depends on the following parameters shown as below: 1. Availability of channel m to transmit data from node i to node j, represented by SOPm ij . SOPm ij 1 if channel is free 0 if channel is occupied  1 2. Transmit power of packet to send data from node i to node j on channel m, represented by Pm ij . 3. Remaining energy of node i, represented by Ei. 4. Bandwidth of channel m, represented by Bm. The relation of above parameters and cost metric are: Cm ij / 1 SOPm ij Cm ij / Pm ij Cm ij / 1 Ei Cm ij / 1 Bm It is clear from the above equations that the cost for occupied channel goes to in nity and hence those channels will not be used to avoid interference to PUs. Links with low transmit power level are preferred. Transmit power level vary with the distance between nodes, which in turn vary the cost of transmitting between them. Hence mobility of nodes also changes the cost of transmitting. Cost metric prefers high energy nodes which increases the network life time, and high bandwidth channels as they can support higher transmission rate. As all these parameters are in different scales, we use normalization process for these parameters to use them in one optimization algorithm. Normalization function used for range xmin  xmax is shown in Eq. 2. fnorm x x  xmin xmax  xmin 2 fnorm x will have values between zero and one. Now routing is formulated as a problem to nd a path p, such that the cost function for that path is minimized. min C p X p Cm ij 3 where Cm ij 1 SOPm ij w1fnorm Pm ij   w2fnorm 1 Ei    w3fnorm 1 Bm   4 Here w1; w2; w3 are the coef cients which decide the weights for each component in the cost function. These are user de ned parameters for the routing and can be modi ed based on the user or traf c requirements. Weighting coef cients are selected such that w1; w2; w3 [ 0 and w1 w2 w3 1:0. For deciding weights w1; w2; w3, different components are ordered by priorities. The least prior component receives minimumweight,andweightswithincrementsareassignedto components that are of higher priorities. Let us rede ne the cost function, considering the indi- vidual cost functions of multiple objective optimization goal as below: C w1f1 w2f2 w3f3 where f1 fnorm Pm ij   SOPm ij f2 fnorm 1 Ei   SOPm ij f3 fnorm 1 Bm   SOPm ij w1 w2 w3 1:0 w1; w2; w3 [ 0 5 3.2 Theoretical analysis of selected routing metric The CCMPR cost function is de ned using Weighted Sum Method (WSM) [18] of individual cost functions. The reason of using WSM are: it is simple and easy to use; and it guarantees to nd solutions on the entire pareto-optimal Wireless Netw 123 set for convex functions. To understand the second point, we rst introduces the concept of pareto optimal solution. De nition 1 In multi-objective optimization, a point, x0 2 S (solution space), is Pareto Optimal iff there does not exists another point, x 2 S, such that F x  F x0 , and Fi x \Fi x0 for at least one function. According to the above de nition, the solution is pareto optimal if there is no other solution that can improve at least one objective function without deteriorating another function in multi-objective optimization. Now we prove that the CCMPR cost function can reach to entire pareto-optimal set. To prove this theorem 1 shows that the CCMPR cost function is convex. Theorems 2 and 3 shows that all the pareto optimal solutions are reachable by varying the weighting vector for convex functions de ned using WSM. Finally, theorem 4 proves that all the pareto optimal solutions are reachable in CCMPR cost metric. Theorem 1 The cost function represented in Eq. 5 is convex. Proof As minimization of f1; f2; f3 are convex, any two solution x and x0, for the functions satisfy below equation: fi kx 1  k x0 \kfi x 1  k fi x0 ; i 1; 2; 3: 6 Adding left hand sides for f1; f2; f3 of Eq. 6 imply LHS w1f1 kx 1  k x0 w2f2 kx 1  k x0 w3f3 kx 1  k x0 C kx 1  k x0 7 Adding right hand sides for f1; f2; f3 of Eq. 6 imply RHS w1kf1 x w1 1  k f1 x0 w2kf2 x w2 1  k f2 x0 w3kf3 x w3 1  k f3 x0 k w1f1 x w2f2 x w3f3 x f g 1  k w1f1 x0 w2f2 x0 w3f3 x0 f g kC x 1  k C x0 8 Putting values from Eqs. 7 and 8 in Eq. 6, gives: C kx 1  k x0 \kC x 1  k C x0 This shows that the cost metric used is convex. Figure 1 shows that the solution space for the cost metric is convex. h Theorem 2 The solution of weighted sum method is pa- reto optimal, if weighting coef cients are positive, that is wi [ 0; 8i 1; 2;    k. Theorem 3 Given that the multi-objective problem is convex, if x0 2 S is pareto optimal, then there exists a weighting vector w with wi [ 0; 8i 1; 2;    k and P i wi 1 such that x0is the solution to the multiple objective problem. Proof for theorems 2 and 3 can be found in [19]. Theorem 4 CCMPR cost metric de ned in Eqs. 3 and 5 can reach to entire pareto optimal solution space. Proof Theorem 1 shows that the CCMPR cost function, de ned using WSM, is convex. According to theorems 2 and 3, for convex functions de ned using WSM, all the pareto optimal solutions are reachable by varying the Cost Function with Minimum Node Enery Cost Function with Maximum Node Enery 0 0.05 0.1 0.15 0.2 0.25 Transmit Power 1 2 3 4 5 6 7 8 9 Bandwidth 0 0.2 0.4 0.6 0.8 1 Cost Function with Minimum Bandwidth Cost Function with Maximum Bandwidth 0 0.05 0.1 0.15 0.2 0.25 Transmit Power 0 200 400 600 800 1000 1200 1400 Node Energy 0 0.2 0.4 0.6 0.8 1 (a) (b) Fig. 1 Solution space of cost function a with transmit power and bandwidth b with transmit power and node energy Wireless Netw 123 weighting vector. Hence the selected cost metric can also reach to entire pareto optimal solution space. h 3.3 Cognitive model and channel selection rule We assume that each CR user is equipped with four radios: transmission radio, receiver radio, control radio and sens- ing radio. The cognitive cycle for each node in the cog- nitive network is shown in Fig. 2. Spectrum sensing block sense the channels for PU activities. PU activity is modeled using exponential ON-OFF model as described in paper [20]. Spectrum decision block selects a channel m which is tuned to the receiver radio of the node. Once the spectrum sensing and decision is done, if PU is present than spectrum hand-off block takes care of channel switching process. Once the channel switching is done or PU is not present; control goes back to the spectrum sensing block. The cognitive model support spectrum decision by upper layers. In CCMPR, spectrum selection is done at network layer, spectrum decision block sends message to network layer for updating the receive channel of user. The channel selection rule for CCMPR is de ned in Eq. 9. Node j selects channel m from the spectrum opportunities which minimizes the cost function C0 and tune it s receiver radio to the selected channel. C0 w1fnorm Pm avg   w3fnorm 1 Bm     9 where Pm avg is the average transmit power from neighbors. From Eq. 9, it is clear that each node selects a channel which minimizes average transmit power from neighbors and has better channel bandwidth. The implementation for cognitive model in NS2 includes the following classes: PU Model Spectrum Manager Repository PU Model class reads the data about the PU activities on speci c channels. Spectrum Manager class performs the main functionality of the cognitive cycle as described above. Repository class is basically a repository for all the information related to the cognitive model. Changes are also done in wireless physical layer and MAC layer to support various carrier frequencies and to calculate trans- mission time for different bandwidth channels on the y. 3.4 Transmit power control In CCMPR, transmit power control is also combined with routing. Whenever a node receive a packet (either destined for the node or for forwarding), it calculates the receiver gain, G, with Eq. 10. G Prx Ptx 10 The receiving node sends a transmit power update message back to the one hop source of the message containing the value of G. Once the node receives transmit power update message then it calculates the target transmit power level, P0 tx, with Eqs. 11, 12 and 13. G0 G  d 11 Glow RXThresh Pmax 12 P0 tx Pmax  Glow G0 13 where d is between zero and one, which is used to model the probability of error for calculating gain at the receiver. RXThresh is the reception threshold, the packet can be received successfully if the received signal strength is greater than this threshold. Pmax is the maximum allowed transmit power level. The sequence diagram for transmit power control is shown in Fig. 3. Once node A calculates P0 tx for neighbor node B, it store the value of P0 tx in the Y N Spectrum Sensing Spectrum Handoff Decide Spectrum If PU is Present Fig. 2 Cognitive cycle tx low Node A Node B Msg Calculate G TxPower Update Msg Calculate G , P Calculate G Fig. 3 Sequence diagram for transmit power control Wireless Netw 123 neighbor table managed by CCMPR. While sending packet, the node calculates the moving average of last N transmit power values from the neighbor table and then sends packet with the calculated transmit power. 3.5 CCMPR implementation This section discusses the key features of CCMPR and its implementation details. 3.5.1 Route/path discovery and maintenance CCMPR is reactive in nature, i.e. when a node has data to send to any speci c destination it generates the route request (RREQ) message. Any intermediate node or des- tination node which receives the route request, calculates the last link cost using Eq. 4 and update the header by adding the last link cost in route cost. If an intermediate node has the route to the destination, it sends the route reply (RREP) to the source of RREQ packet, otherwise it broadcasts the RREQ packet. Once the RREQ reached destination node, it sends RREP message. Route and path maintenance is done using route error (RERR) messages. Whenever a link failure is detected, RERR message is sent back to all active source nodes of that link. Periodic hello messages are used to detect link failures. Link faliure can also happen because of unavail- ability of any specturm between the nodes. Paths are erased by RERR message along its way. Once the source node receives RERR message, it can initiate a new route dis- covery process. Unused routes in the routing table are expired using a timer-based technique. 3.5.2 Forward and reverse path setup The loop-free link disjoint multi-channel paths are added to the routing table. For any consecutive nodes i; j and destination d, the following rule is used to ensure loop freedom: if SeqNo d i >SeqNo d j SeqNo d j = SeqNo d i ; Delete all paths; Insert new path; elseif SeqNo d i == SeqNo d j && Costd i <Cost d j Insert new path; Here SeqNod i and Costd i represent the sequence number and cost at node i for destination d, respectively. Theorem 5 The route update rule shown above builds loop-free paths. Proof Let us assume the path i1; i2;    ; in; i1 form a loop of size n. For path to be added in routing table the below condition should be true: SeqNod i1  SeqNod i2     SeqNod in  SeqNod i1 ) SeqNod i1 SeqNod i2    SeqNod in SeqNod i1 ) Costd i1\Costd i2\    Costd in\Costd i1 ) Costd i1\Costd i1 14 The condition in 14 is impossible. Hence, the path formed are loop free. h The rule for implementing link disjoint path is same as in AOMDV protocol [21]. Node disjoint path rule can also be implemented with very small change in implementation, but for cognitive networks link disjoint paths are favorable. Let us take an example, as shown in Fig. 4, to understand the bene t of link disjoint paths over node disjoint paths in cognitive networks. If we add link disjoint paths in routing table both the paths I ! J1 ! R and I ! J2 ! R will be added to the routing table. As node J1 and J2 both have different receive channels; it is possible that at any given time PU is using one of the channel. In such conditions corresponding path is unavailable to cognitive users. In this case cognitive users can still transmit data using other paths present in routing table. While in case of node disjoint routes, routes with one of these will be added which may be the one unavailable due to primary user activity. Hence link disjoint rule is more advantageous in cognitive networks. 3.5.3 Routing table management and data forwarding The routing table contains multiple paths for any speci c destination. The route entry for any speci c destination is shown in Fig. 5. For forwarding data to any destination, rst the cumulative probabilities for the paths in routing table is calculated. Then a random number is generated between (0, 1). Based on the random number generated and the cumulative probabilities, path is selected for forwarding Recv Channel y Multiple Paths Single Path S I J1 J2 R Recv Channel x Fig. 4 Node/link disjointness in cognitive networks Wireless Netw 123 the data. Probabilistic selection of paths enable the load balancing feature of CCMPR. 4 Simulation and results In this section, we evaluate the performance of CCMPR by means of simulation with the help of NS2. The algorithms will be evaluated in number of different scenarios. For transient period elimination and calculating stopping cri- terion of simulation, batch mean technique [22] is used. Stopping criterion gives the mean values of the parameters, which will remain unchanged even if simulation is run multiple times or for larger period. These mean values are calculated with 95 % con dence interval with Eq. 15. Pr 1:96 S n p \X  H\1:96 S n p   0:95 15 where X is the calculated mean value from simulation, H is theoretical mean value, S is the standard deviation of the mean value, and n is the number of samples taken. The simulation parameters are listed in Table 1. Spectrum band for simulation is taken as the 2.4 2.5 GHz ISM band which is reserved internationally for industrial, scienti c and medical purposes other than telecommunications. Total bandwidth of selected ISM band is 100 MHz. Total 11 channels are considered in simulation including the one common control channel. Control channel bandwidth is con- sidered to be 900 kbps to avoid control channel saturation issue. For same bandwidth scenario data channels bandwidth is assume 100 kbps. For different bandwidth scenario, band- width is randomly selected from 100 to 900 kbps. PU ON and OFF states are exponential distributed with mean 1 0:5 and 1 0:1, respectively. This means that probability of channel being occupied with PU is 0.1666 and probability of channel being unoccupied with PU is 0.8333. Simulation run time is calcu- lated with batch mean technique. CCMPR is compared with CAODV algorithm discussed in Sect. 2. In CAODV protocol, routing control packets are sent on all the traf c channels. Common control channel presence is assumed for control data transmission among the cognitive users in simulation model. In the presence of common control channel, transmission of control data on all the data channels will waste the bandwidth resource. So, to compare the results of proposed algorithm with the described simulation model, we modi ed the CAODV protocol by sending the routing packets on control channel. Simulation are performed to evaluate the performance of proposed solution by varying CR user load and by varying the CR user speed. In both the classes simulation are per- formed for same bandwidth channels and for different bandwidth channels. For each scenario, results are shown for Packet Delivery Ratio (PDR), average end-to-end delay, energy consumed per data packet and routing overhead. PDR measures the ratio between the number of packets transmitted by source and the number of packets received by destination. Average end-to-end delay mea- sures the average time a packet takes to traverse from sources to destination. Energy consumed per data packet measures the average energy consumed by network in delivering any successful data packet, this quantity includes the energy consumed in control packets trans- mitted for route setup. Routing overhead measures the ratio between the number of control packets transmitted for route setup and number of successful data packets received. 4.1 Analysis by varying CR user load Simulation parameters speci c for varying CR user load is listed in Table 2. Route Timeout Path List Route Cost Sequence Number Destination Nexthop Path Cost Path Probability Fig. 5 Route entry for any destination Table 1 Simulation parameters Parameters Value Spectrum band (GHz) 2.4 2.5 Number of channels 11 Channel bandwidth for same bandwidth scenario (kbps) 100 Channel bandwidth range for different bandwidth scenario(kbps) 100 900 Mean channel bandwidth for different bandwidth scenario (kbps) 500 Number of PUs 10 PU transmission range (m) 125 PU ON state exponential distributed with mean 1 0:5 PU OFF state exponential distributed with mean 1 0:1 CU interference range (m) 100 Packet size (Kb) 1,024 Active connections 16 Traf c data type CBR- UDP Initial energy of nodes (J) 1,500 Simulation run time (s) 1,000 Area size (m 9 m) 500 9 500 Wireless Netw 123 Figures 6, 7, 8 and 9 shows the PDR, average end-to-end delay for packets, energy consumed per data packet and routing overhead respectively by varying CR user load for different bandwidth channels. It can be observed from Fig. 6 that PDR is decreasing with the increase in CR user load for both the algorithms. But for every CR user load value, PDR is higher than approximately 20 % for CCMPR. Figure 7 shows that average end-to-end delay is also lower with approximately 10 s for all the CR user loads. The proposed algorithm considers the channel characteristics such as bandwidth while selecting channels for each node, thus higher bandwidth channels are preferred and this decreases the average end-to-end delay. Figure 8 shows that the energy consumed per data packet is also low for CCMPR. The difference in energy consumed per data packet is approximately 0.1J. The results can be justi ed, because CCMPR does power control and packets are sent with the minimum required power level based on the his- tory of channel. It can be seen from Fig. 9 that the routing overhead is slightly higher for CCMPR, but this overhead is well paid for other visible improvements of CCMPR. Figures 10, 11, 12 and 13 shows the simulation results by varying CR user load for same bandwidth channels. It is observed that the results in same bandwidth case are sim- ilar to the different bandwidth case. Figure 10 shows that the PDR for CCMPR is higher than modi ed CAODV with approximate difference of 20 %. It is observed from Fig. 11 that in same bandwidth scenario, average end-to-end delay of CCMPR is lower with approximately 40 s for all the CR user loads. This difference is much higher than the difference in different bandwidth scenario. Figure 12 shows that the difference in energy consumed per data packet is approximately 0:2J which is also higher than the difference in different bandwidth scenario. Figure 13 shows that the routing overhead is same for both the algorithms in same bandwidth scenario. Thus, the results of CCMPR are better for PDR, average end-to-end delay and energy consumed per data packet in comparison to modi ed CAODV without deteriorating the performance of routing overhead is same bandwidth scenario. Table 2 Simulation parameters for varying CR user load scenario Parameters Value Number of CR load (kbps) (600 1,500) Max node speed (m/s) 10 Routing parameter w1 0.3 Routing parameter w2 0.1 Routing parameter w3 0.6 0 20 40 60 80 100 600 700 800 900 1000 1100 1200 1300 1400 1500 PDR (%) CR User Load (kbps) PDR Modified CAODV CCMPR Fig. 6 PDR by varying CR user load for different bandwidth channels 0 20 40 60 80 100 600 700 800 900 1000 1100 1200 1300 1400 1500 Avg. Delay (s) CR User Load (kbps) AvgDelay Modified CAODV CCMPR Fig. 7 Average end-to-end delay by varying CR user load for different bandwidth channels 0 0.2 0.4 0.6 0.8 1 600 700 800 900 1000 1100 1200 1300 1400 1500 Energy Consumed Per Packet (J) CR User Load (kbps) EnergyConsumedPerPacket Modified CAODV CCMPR Fig. 8 Energy consumed per packet by varying CR user load for different bandwidth channels Wireless Netw 123 4.2 Analysis by varying CR user speed This subsection presents the performance analysis of CCMPR with modi ed CAODV by varying speed of CR users. Simulation parameters speci c for varying CR user speed are listed in Table 3. Max speed for static CR users is considered as zero. Figures 14, 15, 16 and 17 shows the simulation results by varying speed of CR users for different and same bandwidth channels. It can be observed from Fig. 14 that PDR is approximately 20 % higher for CCMPR in both the scenarios. Figure 15 shows that average end-to-end delay is also reduced by approximately 10 and 40 s for all the CR user speeds in different and same bandwidth scenarios. The difference in same bandwidth scenario is much higher than the difference in different bandwidth scenario similar to 0 0.2 0.4 0.6 0.8 1 600 700 800 900 1000 1100 1200 1300 1400 1500 Overhead (%) CR User Load (kbps) Overhead Modified CAODV CCMPR Fig. 9 Routing overhead by varying CR user load for different bandwidth channels 0 20 40 60 80 100 600 700 800 900 1000 1100 1200 1300 1400 1500 PDR (%) CR User Load (kbps) PDR Modified CAODV CCMPR Fig. 10 PDR by varying CR user load for same bandwidth channels 0 20 40 60 80 100 600 700 800 900 1000 1100 1200 1300 1400 1500 Avg. Delay (s) CR User Load (kbps) AvgDelay Modified CAODV CCMPR Fig. 11 Average end-to-end delay by varying CR user load for same bandwidth channels 0 0.2 0.4 0.6 0.8 1 600 700 800 900 1000 1100 1200 1300 1400 1500 Energy Consumed Per Packet (J) CR User Load (kbps) EnergyConsumedPerPacket Modified CAODV CCMPR Fig. 12 Energy consumed per packet by varying CR user load for same bandwidth channels 0 0.2 0.4 0.6 0.8 1 600 700 800 900 1000 1100 1200 1300 1400 1500 Overhead (%) CR User Load (kbps) Overhead Modified CAODV CCMPR Fig. 13 Routing overhead by varying CR user load for same bandwidth channels Wireless Netw 123 varying CR user load case. Figure 16 shows that the energy consumed per data packet is also lower for CCMPR with approximately 0.1 and 0.3J in different and same band- width scenarios, respectively. It can be seen from Fig. 17 that the routing overhead is slightly higher for CCMPR. Similar to varying CR user load case, this overhead is well paid for other visible improvements of CCMPR. To summarize the simulation results, experiments by varying CR user load and CR user speed are presented with same bandwidth scenario and different bandwidth scenario. CCMPR gives better results for PDR, average end-to-end delay and energy consumed per data packet for all the scenarios. In some cases routing overhead is slightly higher which is acceptable. Also it can be observed that increasing the speed of CR users does not deteriorate the performance of CCMPR. 5 Conclusion In this paper, Cognitive Cross-layer Multipath Probabilistic Routing is proposed. Proposed algorithm uses multi- objective optimization function as a cost function for routing. It is shown that the CCMPR metric is pareto optimal. CCMPR uses spectrum holes, identi ed by the Table 3 Simulation parameters for varying CR user speed scenario Parameters Value Max node speed (m/s) (0 25) CR user load (kbps) 1,000 Routing parameter w1 0.85 Routing parameter w2 0.15 Routing parameter w3 0.0 0 20 40 60 80 100 0 5 10 15 20 25 PDR (%) Speed (m/s) PDR Modified CAODV (Different Bandwidth Case) CCMPR (Different Bandwidth Case) Modified CAODV (Same Bandwidth Case) CCMPR (Same Bandwidth Case) Fig. 14 PDR by varying speed of CR user 0 20 40 60 80 100 0 5 10 15 20 25 Avg. Delay (s) Speed (m/s) AvgDelay Modified CAODV (Different Bandwidth Case) CCMPR (Different Bandwidth Case) Modified CAODV (Same Bandwidth Case) CCMPR (Same Bandwidth Case) Fig. 15 Average end-to-end delay by varying speed of CR user 0 0.2 0.4 0.6 0.8 1 0 5 10 15 20 25 Energy Consumed Per Packet (J) Speed (m/s) EnergyConsumedPerPacket Modified CAODV (Different Bandwidth Case) CCMPR (Different Bandwidth Case) Modified CAODV (Same Bandwidth Case) CCMPR (Same Bandwidth Case) Fig. 16 Energy consumed per packet by varying speed of CR user 0 0.2 0.4 0.6 0.8 1 0 5 10 15 20 25 Overhead (%) Speed (m/s) Overhead Modified CAODV (Different Bandwidth Case) CCMPR (Different Bandwidth Case) Modified CAODV (Same Bandwidth Case) CCMPR (Same Bandwidth Case) Fig. 17 Routing overhead by varying speed of CR user Wireless Netw 123 MAC layer, to transmit data between hops. CCMPR also selects the channel to be used (MAC layer issue) and transmit power level (Physical layer issue) for each hop in the path based on the history of channel. Paper simulates different scenarios to evaluate the performance of CCMPR in NS2. The performance evaluation con rmed that CCMPR ensures high packet delivery ratio, low end-to-end delay and low value of energy consumed per data packet. Thus CCMPR is a better optimized option for routing in cognitive radio based networks. References 1. Federal Communications Commission. (2002). FCC report of the spectrum ef ciency working group. Resource document. FCC. http://www.fcc.gov/sptf/ les/SEWGFinalReport_1.doc. Accessed 10 Nov 2014. 2. Wireless Telecommunications Bureau. (2000). FCC: Secondary Markets Initiative. http://wireless.fcc.gov/licensing/secondar ymarkets/. Accessed 10 Nov 2014. 3. Mitola, J., & Maguire, G. Q, Jr. (1999). Cognitive radio: Making software radios more personal. Personal Communications, IEEE, 6(4), 13 18. 4. Akyildiz, I. F., Lee, W.-Y., & Chowdhury, K. R. (2009). CRA- HNs: Cognitive radio ad hoc networks. Ad Hoc Networks, 7(5), 810 836. 5. Srivastava, V., & Motani, M. (2005). Cross-layer design: A survey and the road ahead. Communications Magazine, IEEE, 43(12), 112 119. 6. Cacciapuoti, A.S., Calcagno, C., Calef , M., Paura, L. (2010). CAODV: Routing in mobile ad-hoc cognitive radio networks. In Wireless Days (WD), 2010 IFIP, p. 1 5. 7. Cacciapuoti, A. S., Calef , M., & Paura, L. (2012). Reactive routing for mobile cognitive radio ad hoc networks. Ad Hoc Networks, 10(5), 803 815. 8. Li, B., Li, D., Wu, Q., Li, H. (2009). ASAR: Ant-based spectrum aware routing for cognitive radio networks. In Wireless Com- munications Signal Processing, 2009. WCSP 2009. International Conference on, p. 1 5. 9. Chowdhury, K. R., & Felice, M. D. (2009). Search: A routing protocol for mobile cognitive radio ad-hoc networks. Computer Communications, 32(18), 1983 1997. 10. Chowdhury, K.R., Di Felice, M. (2009). SEARCH: A routing protocol for mobile cognitive radio ad-hoc networks. In Sarnoff Symposium, 2009. SARNOFF 09. IEEE, p. 1 6. 11. Chowdhury, K. R., & Akyildiz, I. F. (2011). CRP: A routing protocol for cognitive radio ad hoc networks. Selected Areas in Communications, IEEE Journal on, 29(4), 794 804. 12. Calef , M., Akyildiz, I. F., & Paura, L. (2012). OPERA: Optimal routing metric for cognitive radio ad hoc networks. Wireless Communications, IEEE Transactions on, 11(8), 2884 2894. 13. McCanne, S., & Floyd, S. (1997). The Network Simulator-Ns-2. Simulator Tool. Virtual InterNetwork Testbed Project. http:// www.isi.edu/nsnam/ns/. Accessed 10 Nov 2014. 14. Dijkstra, E. W. (1959). A note on two problems in connexion with graphs. Numerische Mathematik, 1(1), 269 271. 15. Bellman, R. (1958). On a routing problem. Quarterly of Applied Mathematics, 16(1958), 87 90. 16. Youssef, M., Ibrahim, M., Abdelatif, M., Chen, L., & Vasilakos, A. (2013). Routing metrics of cognitive radio networks: A survey. Communications Surveys Tutorials, IEEE, PP(99), 1 18. 17. Abdelaziz, S., & ElNainay, M. (2014). Metric-based taxonomy of routing protocols for cognitive radio ad hoc networks. Journal of Network and Computer Applications, 40, 151 163. doi:10.1016/j. jnca.2013.09.001. 18. Marler, R. T., & Arora, J. S. (2004). Survey of multi-objective optimization methods for engineering. Structural and Multidis- ciplinary Optimization, 26(6), 369 395. 19. Miettinen, K. (1999). Nonlinear multiobjective optimization. Boston: Kluwer Academic Publishers. 20. Di Felice, M., Chowdhury, K. R., Kim, W., Kassler, A., & Bo- noni, L. (2011). End-to-end protocols for cognitive radio ad hoc networks: An evaluation study. Performance Evaluation, 68(9), 859 875. 21. Marina, M.K., Das, S.R. (2001). On-demand multipath distance vector routing in ad hoc networks. In Network Protocols, 2001. Ninth International Conference on, p. 14 23. 22. Banks, J., Carson, J. S., Nelson, B. L., & Nicol, D. M. (2000). Discrete-event system simulation (3rd ed.). New Jersey: Prentice Hall. Deepti Singhal obtained her B.E. degree in Information Technology from Rajasthan University, Jaipur, India, M.Tech. in Information and Communication Technology (ICT) from Dhirubhai Ambani Institute of Information and Communication Technology (DAIICT), Gandhinagar, India. She is currently pursuing Ph.D. from International Institute of Information Technology, Hy- derabad. Her research interests include Cognitive Networks, Wireless Sensor Networks, Ad Hoc Networks, Cognitive Radio, switching, routing, subnetting, 3G and 4G networks and QoS provi- sioning in wireless networks. Rama Murthy Garimella obtained his B.Tech. degree in Electronics and Communication Engineering from Sri Venk- ateswara University, Tirupati, India, M.S. in Electrical Engg. from the Louisiana State Uni- versity, Baton Rouge U.S.A and Ph.D. degree in computer engi- neering from Purdue University, West Lafayette, U.S.A. His research interests include Wire- less Sensor Networks, Cognitive Radio, Cognitive Networks, Ad- hoc Wireless Networks, Com- puter Architecture, Multi Dimensional Neural Networks, Performance Evaluation, Cybernetics and Optimal Filtering. He is currently an associate professor at the International Institute of Information Technology (IIIT), Hyderabad, India. He is a member of Eta Kappa Nu, Phi Kappa Phi, IEEE and senior member of ACM. He has about 200 referred research publications to his credit. He is currently the editor of International Journal of Systemics, Cybernetics and Infor- matics and Research Journal of Telecommunication and Information Technology (INSINET publications). Wireless Netw 123 View publication stats