J. Intell. Syst. 2015; 24(4): 449 465 Shikha Jain* and Krishna Asawa* EMIA: Emotion Model for Intelligent Agent Abstract: Emotions play a significant role in human cognitive processes such as attention, motivation, learn- ing, memory, and decision making. Many researchers have worked in the field of incorporating emotions in a cognitive agent. However, each model has its own merits and demerits. Moreover, most studies on emotion focus on steady-state emotions than emotion switching. Thus, in this article, a domain-independent com- putational model of emotions for intelligent agent is proposed that have modules for emotion elicitation, emotion regulation, and emotion transition. The model is built on some well-known psychological theories such as appraisal theories of emotions, emotion regulation theory, and multistore human memory model. The design of the model is using the concept of fuzzy logic to handle uncertain and subjective information. The main focus is on primary emotions as suggested by Ekman; however, simultaneous elicitation of multiple emotions (called secondary emotion) is also supported by the model. Keywords: Emotion, emotion modeling, emotion elicitation, emotion regulation, emotion transition. DOI 10.1515/jisys-2014-0071 Received March 15, 2014; previously published online January 10, 2015. 1 Introduction Cognitive-emotive interactions have been the subject of extensive research in the past decades. Progress in cognitive psychology and cognitive science, in particular the delineation of distinct mechanisms com- prising cognitive processing [29], such as attention, motivation, learning, memory, and decision making, has contributed to a more careful analysis of the effects of different emotions on cognition and vice versa. Recent research in neuroscience has shown that without emotions, we have difficulty in making even simple decisions, such as what clothes to wear in the morning [7]. In addition to decision-making and moral judgment tasks, Ortony, Clore, and Collins (OCC) [28] found that emotions can alter our perceptions and interpretations of the physical world. In an experiment conducted by the authors, they asked the par- ticipants to estimate the steepness of a hill after listening to either happy or sad music. Those who listened to Mahler the prototypical sad music rated the hill as significantly steeper than those who listened to Mozart ( happy music). As emotion influences most cognitive processes, it makes an agent s behavior more human-like, more believable, and more intelligent. As a result, there is huge demand for cognitive-emotive centric applications of a wide range, like in education/learning, entertainment, sales and marketing, health care and well-being of old adults, games, counseling, and many more. Many researchers from different fields have proposed formal models that describe the processes related to emotion modeling [2, 6, 8, 12, 14, 20, 21, 27, 42]. Never- theless, current emotion models in software agents are much simpler than the human emotional complexity. Although sufficient work has been carried out in emotion recognition and emotion expression, many studies are ongoing in the field of emotion modeling, regulation, and transition mechanisms. In this article, we propose a domain-independent computational model of emotion modeling for intel- ligent agent (EMIA) situated in a virtual environment. It uses the concept of a fuzzy classifier to model more *Corresponding authors: Shikha Jain and Krishna Asawa, Jaypee Institute of Information Technology, Department of Computer Science, Noida, India, e-mail: shi_81@rediffmail.com, krishna.asawa@jiit.ac.in 450 S. Jain and K. Asawa: EMIA: Emotion Model for Intelligent Agent flexible and adaptive emotional behavior of an agent. The model, EMIA, addresses the computation of the type of emotion as well as its level of intensity. Moreover, much of the research focuses on emotion elicita- tion without considering the impact of the previous emotional state; however, in realistic situations, humans experience emotions in a continuous manner. To model this, EMIA has an emotion transition module that takes into consideration the elicitation of emotions based on a previous emotional state. The rules of OCC [28], Scherer [35], and Roseman et al. [33] cognitive theories of emotions are used for event appraisal and emotion elicitation. Furthermore, two types of emotion regulation are introduced: regulation based on decay of emotion over time and regulation based on the Gross theory [15] of emotion regulation. Although we are modeling five basic emotions (happy, sad, anger, fear, and surprise), as defined by Ekman [11] (excluding disgust), simultaneous elicitation of multiple emotions (called secondary emotion) is also supported by the model. Learning by experience is also incorporated in the model to make it adaptive. For that, it maintains three types of memory: perceptual memory, working memory, and long-term memory based on a multistore human memory model [1]. The article is organized as follows. Section 2 discusses the psychological background of our work. In Section 3, related work is discussed in brief. Section 4 explains the importance of fuzzy logic in this field. In Section 5, our proposed model, EMIA, is described in detail with an explanation for each module. In Section 6, scenario-based illustrations are demonstrated in the domain of a driver as an agent on the road. Section 7 concludes the article with a discussion and future scope. 2 Background The objective of the design of intelligent agents is to create a virtual human situated in a simulated environ- ment that can behave like us. As emotion plays an integral role in every cognitive process, an agent without emotions cannot mimic a human completely. Therefore, many studies are ongoing to incorporate emotions in an intelligent agent. Classically, an emotional intelligent agent follows the sense-appraise-act cycle [34], as shown in Figure 1. The agent senses the outer environment and evaluates it on various parameters. Depending on the effect of current events on the desired goal of the agent and the current emotional state, the next emotion state is generated and an action is triggered based on the intensity of the generated emotion in pursuit of its goal. This cycle repeats with the occurrence of an event. Several similar models for emotion modeling exist; however, each model has one or other limitations, such as domain dependency, modeling of only discrete emotions, lack of flexible emotional behavior modeling, and no emotion regulation mechanism. The emotions of an agent living in a world are influenced by many factors, such as visible surrounding environment, personality traits, past memories, intuition, experiences, etc. EMIA is a closed-loop, event- based emotive model considering a visibly occurring event. Emotion is defined in the literature [10, 11, 18, 23, 25, 31] in several manners. Of all the definitions, the closest to our common sense [18] defines emotion as transient states, lasting for seconds or minutes, typically associated with well-defined triggering cues and characteristic patterns of expressions and behavior. That is, the emotional state of an agent changes with the occurrence of an event, and it decays over time. Sense event Appraisal and emotion generation Action Figure 1. Sense-Appraise-Act. S. Jain and K. Asawa: EMIA: Emotion Model for Intelligent Agent 451 According to Reference [31], emotions can be categorized into two classes: primary (often felt) and sec- ondary (sometimes felt). Primary emotions are the biological emotions with distinctive universal signals. They are the primitive emotions that a person feels first, unconsciously, on the occurrence of any event. Basi- cally, there are six primary emotions as suggested by Ekman [11]: happiness, anger, fear, sadness, disgust, and surprise. He called them primary emotions as each of them is associated with a distinctive universal facial expression. In the literature, the secondary emotions are defined in two different ways. First, in an experiment conducted by Scherer and Ceschi [36], it was shown that some events may give rise to several simultaneous emotions [26]. Izard [19] and Plutchik [31] also argued that secondary emotions arise on com- bining some primary emotions. For example, jealousy is a secondary emotion that arises as a result of the simultaneous occurrence of sadness and anger. A second definition is given by Damasio [7] and is supported by Picard [30]. They defined secondary emotions as emotions triggered by the cognitive appraisal of an event, and they occur at a conscious level. Thus, throughout the article, the primary emotions are considered as the universally distinguished emotions and secondary emotions as the simultaneous occurrence of multiple primary emotions. The appraisal theories of emotion [28, 33, 35] illustrate the elicitation of emotion whenever an agent evaluates the change in the environment (called an event) in terms of its well-being. Also, the quality and quantity (intensity) of the elicited emotion not only depends on the event but also on the agent s evaluation of the event in terms the appraisal dimensions (variables) while taking care of its (agent s) own capabilities, limitations, and available resources. Moreover, all these theories have a common consensus that a standard set of necessary variables should be used to underlie the appraisal process for an event. The appraisal process is highly dependent on the importance and consequences for the agent s well-being and achieving the goal. In this article, five appraisal variables are used to evaluate an event. These appraisal variables are adopted from three appraisal theories of emotion, namely the OCC theory, Roseman theory, and Scherer theory. The OCC [28] model describes a hierarchy that classifies 22 emotion types. The model categorizes the emotions in three groups as (i) due to consequences of events (e.g., joy and pity), (ii) actions of agents (e.g., pride and reproach), and (iii) aspects of objects (e.g., love and hate). It provides a clear and convincing structure of the eliciting conditions of emotions and the variables that affect their intensities. However, it discusses only four emotions (distinct in expression): happy, sad, anger, and fear. The remaining two, surprise and disgust, are not defined. Thus, for the emotion surprise, the respective appraisal variables are adopted from the Roseman [33] and Scherer [35] theories. Additional two variables, outcome probability and suddenness, are adopted from Scherer. Once the occurred event is appraised, depending on the values of appraisal variables, emotions are elicited. EMIA is based on event-based triggering of emotions. As emotion is continuous in nature, after the elicitation of an emotion, it keeps on changing from one emotional state to another depending on the input (percept) from the environment. This process of switching between two or more affective, emotional states is known as emotion transition. To date, work in the field of emotions has focused primarily on steady-state emotions rather than emotional transitions. A few research- ers [13, 44] have analyzed the influence of emotional transitions on communal interactions and found that emotional transitions (e.g., the transition from happy to angry, or becoming angry ) lead to consistently dif- ferent outcomes than their corresponding steady-state emotions (e.g., steady-state anger, where one begins angry and stays at the same level of anger). The study conducted in Reference [13] has shown that emotional transitions influence the perceivers behavior through the same inferential and affective mechanisms, but with differing consequences than steady-state emotions. EMIA incorporates the idea of a continuous nature of emotions that leads to the realization of the emotion transition process. As emotions are integral to effective decision making [16], they guide us away from choices that would hurt us and toward choices that benefit us. We learn from our past experience that certain choices produce unpleasant outcomes, and without emotional memory we would continue to make those choices again and again. As it is our emotions that give us a sense of self, through our emotions we can act with a sense of self- interest, i.e., we can act in our own best interests and toward our own survival. Sometimes, if the emotions are not generated at the correct time and with a correct intensity, it may harm us. At this point, emotion regulation plays an important role. Gross and Thompson [15] have proposed a theory of emotion regulation 452 S. Jain and K. Asawa: EMIA: Emotion Model for Intelligent Agent in which, broadly, they described two emotion regulation strategies: antecedent based and response based. This theory is discussed further in the subsequent section. Moreover, the intensity of emotions becomes reduced gradually over time. This process is known as emotion decay [41]. A few models have implemented a limited version of one or both [4, 5, 37]. The model, EMIA, addresses both emotion decay and emotion regula- tion using some strategies. 3 Related Work In the last few decades, rapid growth has been seen in the field of modeling of emotions. Most of the compu- tational models are influenced by different psychological theories of emotions that illustrate the elicitation of emotion whenever an agent evaluates the change in environment (called an event) in terms of its well-being. All these models share some common properties like being based on the sense-appraise-act cycle, the use of appraisal theories or appraisal variables, and the use of short-term and long-term memory. However, the approaches vary in terms of representation, method used, formulas for computation of values, features incor- porated, etc. In this section, we highlight the models that have a significant influence. In 2000, El-Nasr et al. [12] proposed a computational and adaptive model of emotions based on event appraisal called FLAME. It incorporates some learning components to increase the adaptation in mode- ling emotions. However, this model was dealing with filtering of emotions rather than mixing of emotions. Hudlicka [17] proposed a symbolic affective cognitive architecture (MAMID Methodology for Analysis and Modeling of Individual Differences) that models a number of representative constructs and processes to implement many traits (temperament, personality, and emotional style) and states (emotion, affective states, and moods) based on behavioral phenomena. The theory of emotion and adaptation of Smith and Lazarus was formalized by Gratch and Marsella [14] into EMA, a model for creating agents that demonstrate and cope with (negative) affect. Jiang [20] proposed an emotional model called EBDI in which an emotional component is added to classical belief-desire-intention (BDI) theory, while considering both primary and secondary emotions together in decision making. Primary emotions are used for fast decision making and, if time permits, secondary emotions are used to give second-level thinking before making a decision. Dang et al. [8] introduced a generic model (GRACE Generic Robotic Architecture To Create Emotions) for build- ing a computational architecture to express emotions and personality. It defines its emotional process as a physiological emotional response triggered by an internal or external event. Dastani and Meyer [9] and Steunebrink et al. [38] gave the logic representation of four primary emotions (happiness, sadness, anger, and fear) and then presented the general structure of the deliberation process for agents with emotional state. The proposal is based on the BDI theory to be incorporated into 2APL, an agent programming lan- guage. However, they have reported about only emotion triggering. Popescu et al. [32] proposed an emotion engine called GAMYGDALA that allows the game developer to add emotions to non-player characters. It does not own any memory. Table 1 summarizes the comparison of these models based on some common parameters. This table also mentions the features incorporated in the proposed model, EMIA. All these models are based on the OCC, Lazarus, and/or Scherer theories of emotion for the evaluation the external event and are imple- menting a working memory. However, only GRACE considered emotion as a continuous unit. Moreover, emotion regulation is addressed only in MAMID, but very abstractly. Nevertheless, none of them handles the simultaneous occurrence of multiple emotions. Past experience of an event/object for event appraisal is taken into account only by FLAME. In conclusion, no model considers all these important parameters in their design. In conclusion, we propose a domain-independent computational model of emotion (EMIA) based on the OCC and Scherer theories, which consider emotion as a continuous entity. We have designed three types of memory for various processing and learning tasks, namely perceptual memory, working memory, and long- term memory. Moreover, experiential learning, appraisal based on past experience, and emotion regulation are incorporated in the model. Simultaneous occurrence of multiple emotions is also supported by our model. S. Jain and K. Asawa: EMIA: Emotion Model for Intelligent Agent 453 Table 1. Comparative Study. Parameters FLAME [12] MAMID [17] EMA [14] EBDI [20] GRACE [8] GAMYGDALA [32] EMIA (Proposed Model) Theory used OCC and Roseman theory Scherer theory Lazarus theory OCC and PAD OCC, Lazarus, Scherer theory OCC and PAD OCC, Scherer theory Emotion as discrete or continuous entity Discrete Discrete Discrete Discrete Continuous Discrete Continuous Memory Short-term emotion memory Working memory, long-term memory Working memory, long-term memory Working memory Not mentioned No memory Perceptual memory, working memory, long-term memory Learning Yes Yes Not mentioned No No Not mentioned Experiential learning Past experience Yes No Not mentioned No No Yes Yes Emotion regulation No Very abstractly No No No No Yes Simultaneous occurrence of multiple emotion handling No No No No No No Yes 454 S. Jain and K. Asawa: EMIA: Emotion Model for Intelligent Agent 4 Fuzzy Logic and Emotions There has been considerable research on emotion modeling using fuzzy logic. Human emotions are very complex and uncertain (different people may express different emotions in the same environment, or a person can show different emotions in same environment at different times). Many researchers [3, 12, 39, 43, 45] have proved fuzzy logic to be the most promising tool for incorporating this uncertain nature of emotions and the vagueness of its description. Also, fuzzy logic provides a simple and easy solution to complex prob- lems by using if-then rules instead of sophisticated mathematical equations. It allows us to describe the model with the help of linguistic variables that give us a feel of being close to our actual problem. The system designed with fuzzy logic can be upgraded by adding new rules. Moreover, fuzzy logic makes it possible to deal with multiple and conflicting emotions simultaneously using inference models. 5 EMIA: Computation Model of Emotion for Intelligent Agent The computational emotion model (EMIA) has a three-layer architecture, as shown in Figure 2. The first layer deals with the external environment. It is where the event occurs and the behavioral action takes place. The second layer is where the domain-specific knowledge/data is encoded into domain-independ- ent information for further processing, and the domain-independent information is decoded back to the domain-dependent data to perform an action against the event. The third layer is basically responsible for processing domain-independent data and eliciting emotions. It also allows emotion transition and emotion regulation (including decay). Memory and Learning: The Atkinson and Shiffrin [1] model (also known as the multistore model) of memory is followed broadly to implement memories in EMIA (Figure 3). Three memories are used in the model to allow learning at different phases. These memories are perceptual memory, working memory (as short-term memory), and long-term memory. Perceptual memory works with a perception module and stores the information related to the relevant external event. Working memory is used to perform intermediate com- putation and stores the result temporarily. Upon completion of one cycle, the entire information is stored in long-term memory as past experience. This is called learning by experience [24]. In long-term memory, the belief set, event set, and action set are maintained. These sets are domain and agent specific. The belief set stores the agent s own capabilities, available resources, beliefs, and view of the Perception Reaction Appraisal Emotion elicitation Decay/emotion regulation Encoder Decoder Event Action Beliefs set Events set Actions set Emotion transition Learning Figure 2. Architecture of EMIA. S. Jain and K. Asawa: EMIA: Emotion Model for Intelligent Agent 455 external world. Thus, it is agent dependent. This belief set gets updated each time one cycle is completed. This way, it stores or updates the past experience related to a certain object. For that, it maintains a tag (good or bad) with every object. This tagging helps the agent to appraise the event on the basis of past experience about the object. The event set maintains the possible set of events based on the knowledge of the external world and the domain to make the model closed-loop. The events are represented by an activity diagram in the form of directed acyclic graph (DAG). Each node represents an event along with a relative time stamp. Edges represent the dependency and ordering of events. The action set keeps the possible action choices for the agent, depending on the domain knowledge. It is represented by a behavior net. Each module of the architecture is explained in detail below. 5.1 Perception and Encoder Perception [22] means receiving the event from the external environment and recording it. Whenever an event occurs, it is received by the perception module in textual form. This module creates its own view of the event. It assigns the event a unique event identification (id), EV_ID, and tags it with a time stamp. It recognizes the object/agent responsible for the event. Then, it stores the complete information in the perceptual memory as < EV_ID, EV_NAME, OBJ, TS > , and generates a message containing the event id, object concern, and time stamp < EV_ID, OBJ, TS > and passes it to the encoder. The encoder acts as an interface between the second and third layers. It fetches the data from perceptual memory for the current event and generates a message containing the event id, object concern, and time stamp < EV_ID, OBJ, TS > . Then, it passes the message to the appraisal process at the next layer. 5.2 Appraisal For event appraisal, the OCC [28], Scherer [35], and Roseman [33] cognitive theories of emotions are used. On the basis of these theories, five appraisal variables are adopted to evaluate an occurred event. The vari- ables are Desirability, Expectedness, OutcomeProbability, Suddenness, and CauseHarm. Desirability is asso- ciated with each event as a measure of how desirable the event is in pursuit of the goal. Expectedness is the likelihood of that event to occur according to the agent s world view or memory. OutcomeProbability is the measure of consequences (pleasant/unpleasant) of the event with respect to the goal. If the outcome of the event is not leading us toward the goal, then a value N will be assigned to it. Suddenness is if the event has occurred all of a sudden. CauseHarm is whether the current event is threatening to the agent presently or in the future, or not. On receiving the message from the encoder, this module evaluates the event on the basis of these appraisal variables after assessing its (agent s) own beliefs, capabilities, resources, and the influence of the event on goal, and from past experience. Moreover, it checks whether any tagging for the object OBJ is present in long-term memory or not. If tagging for the object is already there, depending on good or bad, the event is appraised. In the real world, it is not possible to assign a crisp value to these variables. To capture the imprecise and ambiguous information, the concept of fuzzy logic is used. First, these appraisal variables are fuzzified and distributed uniformly in the range of 0 100. Triangular function is used for its simplicity. The fuzzy set of each linguistic variable is defined as Long term memory Perception memory Working memory Figure 3. Multistore Human Memory Model (Atkinson and Shiffrin Model [1]). 456 S. Jain and K. Asawa: EMIA: Emotion Model for Intelligent Agent D = {UD, N, LowD, MediumD, HighD} E = {UE, N, LowE, MediumE, HighE} S = {low, medium, high} OP = {VUP, UP, N, P, VP} CH = {noHarm, causeHarmL, causeHarmH, willcauseHarmL, willcauseHarmH}. The event can be undesirable, low desirable, medium desirable, or highly desirable. Similarly, an event can be unexpected, low expected, medium expected, or highly expected. The OutcomeProbability can be very unpleasant, unpleasant, pleasant, or very pleasant. It may also be possible that we have a neutral feel for an event as far as these appraisal events are concerned. To map the neutral feel corresponding to these vari- ables, N can be assigned. The membership functions of desirability and expectedness are depicted in Figure 4. Likewise, membership functions for other appraisal variables OutcomeProbability, Suddenness, and CauseHarm are designed. Example: Upon seeing a snake, if an agent has a belief that snakes are dangerous and on assessing the resources it is found that he has a stick that can be used to hit snake, then, at the time of appraisal, he will assign OutcomeProbability = UP and CauseHarm = willcauseHarmL. However, if he does not find anything to defend, the value of the appraisal variables will change, i.e., OutcomeProbability = VUP and CauseHarm = will- causeHarmH. If the event does not exert any influence on the agent s goal or is not important in the pursuit of the goal, the value of Desirability and OutcomeProbability for the event becomes neutral (N). After completing the appraisal process, this module generates a message including event id, time stamp, and fuzzified values of the appraisal variable as _ , , , , , , , . EV ID TS OBJ D E S OP CH < > This message is passed on further to the emotion elicitation and emotion transition modules. At the same time, it stores this information in the working memory. 5.3 Emotion Elicitation After event assessment, the next step is to elicit the emotions. EMIA allows the elicitation of multiple emo- tions known as simultaneous emotions elicitation. This elicitation of multiple emotions simultaneously results in secondary emotions [26, 31]. In this module, five basic emotions (given by Ekman [11], except disgust) are treated as linguistic variable and represented as a fuzzy set. Expectedness 0 10 20 30 UE Neutral LowE MediumE HighE UD Neutral LowD MediumD HighD 40 50 60 70 80 100 90 Desirability 0 10 20 30 40 50 60 70 80 100 90 Figure 4. Membership Function of Desirability and Expectedness. S. Jain and K. Asawa: EMIA: Emotion Model for Intelligent Agent 457 Happy = {VHighH, HighH, MediumH, LowH, Neutral} Sad = {VHighS, HighS, MediumS, LowS, Neutral} Anger = {VHighA, HighA, MediumA, LowA, Neutral} Fear = {VHighF, HighF, MediumF, LowF, Neutral} Surprise( ) = {VHighSr( ), HighSr , MediumSr , LowSr , Neutral} Surprise(+) = {VHighSr(+), HighSr+, MediumSr+, LowSr+, Neutral}. Fuzzy rules are designed to take care of nondeterministic nature of emotions. It does both qualitative and quantitative syntheses. It generates the emotion type as well as its intensity. The intensity of elicited emotions is represented by fuzzy values. For the design of the emotion elicitor, a survey was conducted on a number of people from different domains. In the survey, participants were asked to recall two most memorable events in their life, appraise the events on the basis of five appraisal variables (i.e., Desirability, Expectedness, OutcomeProbability, Sud- denness, and CauseHarm), and then tell the emotions generated at the time of event occurrence. On the basis of the appraisal theory of emotions (OCC theory, Roseman theory, and Scherer theory) and the information gathered from the survey, we concluded that the five appraisal variables selected for EMIA are closely associ- ated with five primary emotions as explained in Table 2. As per the table, if a highly desirable event occurs, it will elicit some positive emotion. Moreover, if the occurred event was less expected, the intensity of positive emotion will increase. If the occurrence of the event is leading us toward the goal, then the OutcomeProbabil- ity will be pleasant and again will lead to positive emotion. On the basis of these observations, an exhaustive set of generalized rules (1875 rules) is proposed systematically for emotion elicitation. The generalized form of emotion elicitation fuzzy rules is defined as if Desirability(EV_ID, TS) is A1 and Expectedness(EV_ID, TS) is A2 and Suddeness(EV_ID, TS) is A3 Table 2. Appraisal Variable to Emotion Mapping. Appraisal variables Relationship with emotions Desirability HighD UD +ve Emotion -ve Emotion Expectedness HighE UE Low intensity High intensity OutcomeProbability VP VUP +ve Emotion -ve Emotion CauseHarm As this appraisal variable is checking for threat to one s well being, it is directly related to the emotions fear and anger depending on the values of other appraisal variables. Suddenness Leads to surprise followed by some positive or negative emotion depending on the values of other appraisal variables. 458 S. Jain and K. Asawa: EMIA: Emotion Model for Intelligent Agent and OutcomeProbability(EV_ID, TS) is A4 and CauseHarm(EV_ID, TS) is A5 then Curr_Emo1 is E1 and . and Curr_EmoN is EN where A1 A5 takes the values from the respective fuzzy sets. Curr_Emo1 N is the list of multiple emotions generated simultaneously, and E1 to EN are their intensities. A sample of generated rules on the basis of appraisal theories is shown in Table 3. Example: Suppose an agent is walking in a park where reptiles like lizards and snakes are expected. While going from one point to another, he saw a snake lying in his path. On analyzing the resources, he found that he does not have any stick to hit the snake. Then, on analyzing his capabilities and resources and the current event, the agent appraises the event as 001 , , , , , , , . E A t Snake UD MediumE Low VUP willCauseHarmH < > Then, the following fuzzy rule is fired: if Desirability(E001A, t) is UD and Expectedness(E001A, t) is MediumE and Suddeness(E001A, t) is Low and OutcomeProbability(E001A, t) is VUP and CauseHarm(E001A, t) is willCauseHarmH then FEAR is VHighF and SAD is MediumS. Upon generating the emotions, it updates the working memory with this information as event id, time stamp, objects, and elicited emotions along with their intensity. It then generates a message for reaction module as < EV_ID, TS, OBJ, < Curr_Emo > > . Finally, a crisp value of the intensity of emotion in the form of emotion vector, EIt = < Ih, Is, If, Ia, Isur > , is computed using the Mamdani centroid defuzzification. 5.4 Emotion Transition Emotion transition is, basically, the switching from one emotional state to another over time as series of events occur [44]. Research in this field mainly focuses on steady-state emotions rather than emotion transi- Table 3. A Sample of Generated Rules. Appraisal variables/emotion SAD VHighS HighS MediumS LowS Desirability ND UD UD LowD Expectedness UE LowE MediumE HighE Suddenness High High Medium Low OutcomeProbability VUP VUP UP UP CauseHarm CauseHarmH/ willCauseHarmH CauseHarmH/ willCauseHarmH CauseHarmL/ willCauseHarmL CauseHarmL/ willCauseHarmL S. Jain and K. Asawa: EMIA: Emotion Model for Intelligent Agent 459 tion. Reference [13] has shown how the transition from happy to angry or becoming angry has different outcomes from its steady-state counterpart (e.g., steady-state anger, where one begins angry and stays at the same level of anger). Emotion transition (shown in Figure 5) from one state to another is a function of current event and current emotion. In the proposed model, depending on the application, the user can select either steady-state emotions or emotion transition. For the first time, it considers the current emotion, Curr_Emo = Neutral. Fuzzy rules are used to determine the intensity of generated emotions in terms of fuzzy values. As transition of emotion depends on the current emotion and current event, at every instance of the transition cycle, it takes input as < EV_ID, TS, OBJ, Curr_Emo, D, E, OP, S, CH > and generates output as < EV_ID, TS+1, OBJ, Next_Emo > . Thus, at the next instance of time, the Next_Emo becomes Curr_Emo and starts the next iteration of the cycle. For example, at some instance of time ti, Curr_Emo(agent) is fear and its intensity is High, then depend- ing on the value of the appraised variable as shown below, the emotional state of the agent is changed from {High Fear} to {Medium Anger and VeryHigh Sad}. The following examples illustrate how rules are defined linguistically: Rule 1: (EV001A, [Fear = HighF]ti, < UD, MediumE, UP, CauseHarmH, LowS > ) = {MediumA, Neutral, VHighS, Neutral, Neutral, Neutral}ti+1 if (Fear is HighF) AND (desirability(EV001A, ti) is UD) AND (expectedness(EV001A, ti) is medium) AND (outcome(EV001A, ti) is UP) AND (causeharmH(EV001A, ti) then Anger is MediumA AND Sad is VHighS Rule 2: (EV002A, [Fear = HighF]ti, < UD, MediumE, UP, CauseHarmH, LowS > ) = {Neutral, VHighH, Neutral, Neutral, Neutral, Neutral}ti+1 if (Fear is HighF) AND (desirability(EV002A, ti) is UD) AND (expectedness(EV002A, ti) is medium) AND (outcome(EV002A, ti) is UP) AND (causeharmH(EV002A, ti) and Neutral emotional state Happy emotional state Surprise(-) emotional state Surprise(+) emotional state Anger emotional state Sad emotional state Fear emotional state Figure 5. State Diagram for Emotion Switching. 460 S. Jain and K. Asawa: EMIA: Emotion Model for Intelligent Agent E then Happy isVHighH Rule 3: (EV003A, [Happy = MediumH]ti, < MediumD, UE, UP, NoHarm, HighS > ) = {Neutral, Neutral, Neutral, Neutral, Neutral, VHighS(-)}ti+1 AND {HighA, Neutral, MediumS, Neutral, Neutral, Neutral}ti+2 if (Happy is medium) AND (desirability(EV003A, ti) is MediumD) AND (expectedness(EV003A, ti) is UE) AND (suddenness(EV003A, ti) is high) then Surprise is VHighSr Then at ti+2, if outcome(EV003A, ti) is UP then Anger is HighA and Sad is MediumS Else if willcauseharmH(EV003A, ti) then Fear is HighF Else if causeharmH(EV003A, ti) then Sad is HighS In rule 3, surprise is the current emotion state after appraising the current event. We are following the fact that surprise can be negative or positive depending on the outcome. If the outcome is pleasant, the emotion at the next instance of time will be positive; otherwise, some negative emotions will be generated depending on the value of appraised variables. After the emotion elicitation and emotion transition processes, it updates the working memory with the information as event id, time stamp, object, and elicited emotions along with their intensity. If the generated emotion is a positive emotion, the object will be assigned a GOOD tag; otherwise, it will be tagged as BAD. This tagging information is further updated in the belief set of long-term memory so that whenever, in the future, some event associated with that object occurs, the agent can judge the event on the basis of its past experience. 5.5 Emotion Regulation and Emotion Decay Emotion arises when an agent perceives an event and finds it relevant toward achieving its goal. The gener- ated emotion can be a negative or a positive emotion. It can hurt if it occurs at the wrong time with the wrong intensity. Thus, emotion regulation is the process humans undertake to affect their emotional response. According to Gross and Thompson [15], Emotion regulation includes all of the conscious and non-conscious strategies we use to increase, maintain, or decrease one or more components of an emotional response. Emotion decay takes place on its own periodically or at the occurrence of the next event. Emotion regula- tion refers to strategy opted to change the emotion response. EI_New f(EI_Dec(e,t), EI_Reg) = where EI_New is new emotion vector after regulation. It depends on the changed intensities of emotion after decay (EI_Dec(e,t)) and after strategy-based regulation (EI_Reg). Emotion decay refers to the gradual decrease in intensity of emotion with time. According to Velasquez [40, 41], emotions do not disappear once their cause has disappeared; rather, they decay through time. In the literature, we can find variants of opinion about emotion decay. Some researchers say positive emotions decay faster than negative emotions, whereas some say negative emotions decay faster. This discrepancy has not been resolved to date. Thus, we conducted a survey and concluded that in most of the cases, posi- tive emotions decay faster, which is also supported by Velasquez [40]. Following the same, emotion decay is represented by the Poisson distribution in our model. That is, 1 exp( 0.1 ) t t EI_Dec(e,t) EI (e) EI (e) d(e) t = = where d(e) [0, 1], d(e) = [0.5, 1] for positive emotions and d(e) = [0.8, 1] for negative emotions. S. Jain and K. Asawa: EMIA: Emotion Model for Intelligent Agent 461 Emotion regulation follows some strategies for regulating the emotions. Gross proposed a process model of emotion regulation, as shown in Figure 6. Broadly, the model follows two types of emotion regulation strategies: antecedent-focused emotion regulation and response-focused emotion regula- tion. Antecedent-focused emotion regulation regulates the emotion before emotion generation, whereas response-focused emotion regulation regulates the emotion after its generation. There are five regulation strategies, four under antecedent-focused emotion regulation and one under response-focused emotion regulation. The first antecedent-focused regulation strategy in Gross theory is situation selection. This strategy is aimed at selecting a situation among available options that best meets with the desired level of a certain emotional response of the person. Situation modification is the second strategy in this category, and it does not try to change the world but rather to alter some controllable aspects of the situation. In attention deployment strategy, we try to focus on the positive and distract ourselves from the negative aspects of the current situation. In cognitive change, the person tries to look at undesired events from a different perspective to change the negative cognitive meaning of the events. As in the response-focused category, response modulation is an important strategy that can be applied after the manifestation of the emotion. EMIA uses reappraisal as an antecedent-focused emotion regulation strategy and suppression as a response-focused emotion regulation strategy. The complete regulation process is explained with the help of a flow chart in Figure 7. On the occurrence of an event and before emotion elicitation and decision making, the next event in the sequence is predicted. This can easily be done as the activity network (DAG) is used to store relevant events in the event set. Then, the expected event is appraised and the expected emotion (EI_Expected) is estimated using the same fuzzy rules as defined for the emotion elicitation process. The next step is to check whether regulation is required or not, using Algorithm 1 described below. If it is required, depending on the agent tolerance ( ), the target emotion with intensity is estimated (EI_Target). Then Algo- rithm 2 is used to regulate the emotions either by reappraisal to generate EI_Target or by suppression of the current generated emotion. Algorithm 1 Update_Current_emotion() { if CUR_EMO is +ve and esti_em is +ve then increase (EI_cur) if CUR_EMO is ve and esti_em is +ve then decrease (EI_cur) } where increase(EI_cur) or decrease(EI_cur) = f(EI_Expected, ), where [0, 1]. Antecedent focussed emotion regulation Response focussed emotion regulation Situation selection Response modulation (suppression) Situation modification Attentional deployment Cognitive change (reappraisal) Figure 6. Gross Model of Emotion Regulation. 462 S. Jain and K. Asawa: EMIA: Emotion Model for Intelligent Agent Event prediction Expected event appraisal Event expectancy Appraisal variable calculation Estimation of expected emotion Current emotion state updation Emotion regulation required? Estimate EI_target EM_RG() Yes Figure 7. Flow Chart of Emotion Regulation Process. Algorithm 2 while(EI_target not achieved) { EI_Reg = f(EI_Expected, )//antecedent-focused done by reappraisal or EI_Reg = f(EI_cur, )//response-focused done by suppression } 5.6 Decoder and Reaction Process The main task of the decoder is to act as an interface between the domain-independent module and the domain-dependent module. It passes the message containing current information from the emotion elicitation module to the reaction module. Depending on the type of emotion and information stored in the action set, a behavior selection fuzzy rule is fired (based on information in the literature [42]) and an action is selected. In EMIA, the selected action is represented as a textual message. Next, it can easily be converted to motor actions. 6 Illustration In EMIA, domain-independent appraisal variables are used to evaluate an event. Moreover, the fuzzy rules for event appraisal, emotion elicitation, and emotion transition are designed based on these variables. Hence, S. Jain and K. Asawa: EMIA: Emotion Model for Intelligent Agent 463 this model can be applied to any domain. To establish the validity of the model, EMIA, we demonstrate its work for a driver as an agent on the road, which works in a closed environment. Event set = {Traffic jams, Traffic light red, Traffic light green, Accidents on road, Brake lights of a preced- ing vehicle, Action of other agents, Traffic condition on road} Action set = {Apply brake, Accelerate the vehicle, De-accelerate the vehicle, Keep the same speed} Belief set = {Red light BAD ; Green light GOOD ; Traffic jam BAD ; Accident BAD } Goal = {reach office safely and on time} An agent driver is driving with a constant speed from his home to the office. The traffic signal turned green for 40 s when he is at some distance from the crossing. There is no obstacle/other vehicle nearby. The perception module percepts this event and make this entry in the perceptual memory as AND AND 1 EV001R, Trafficlight green Mediumdistance fromcrossing Noobstacleonroad, driver,t . < > Then, the encoder generates the message < EV001R, driver, t1 > and passes it to the appraisal module. The appraisal module valuates the event as < D, E, S, OP, CH > = {HighD, MediumE, Low, P, noHarm} and passes the message < EV001R, t1, HighD, MediumE, Low, P, noHarm > to the emotion elicitation module. As it is the first event in the sequence, the current emotion is considered as neutral. At this module, following rule is fired if Desirability(EV001R, t) is HighD and Expectedness(EV001R, t) is MediumE and Suddeness(EV001R, t) is Low and OutcomeProbability(EV001R, t) is P and CauseHarm(EV001R, t) is noHarm then Happy is VHighH and Fear is LowF and generates a new message for the reaction module as < EV001R, t1, VhighH, LowF > . 7 Conclusion and Future Work In this article, a domain-independent computational model of emotion agent is proposed. The model is based on appraisal theories of emotions and OCC elicitation conditions. The fact that emotions are contiguous (not discrete) led us to design an emotion transition process. Over time, the intensity of current emotion decreases gradually, which is also being taken into consideration as emotion decay. Moreover, emotion regulation is also incorporated following the strategies suggested by Gross. The whole work is carried out using fuzzy clas- sifier and fuzzy rules as the main design tool to handle the uncertain and nondeterministic nature of emo- tions. Next, we will be working for further refinement of the emotion model and their influence on decision making and action selection. Bibliography [1] R. C. Atkinson and R. M. Shiffrin, Human memory: a proposed system and its control processes, in: The Psychology of Learning and Motivation: Advances in Research and Theory, K. W. Spence and J. T. Spence (eds.), vol. 2, pp. 89 195, Academic Press, London, 1968. 464 S. Jain and K. Asawa: EMIA: Emotion Model for Intelligent Agent [2] J. Bates, A. B. Loyall and W. S. Reilly, Integrating reactivity, goals, and emotion in a broad agent, in: Proceedings of the Fourteenth Cognitive Science Society, Martin Ringle (ed.), pp. 696 701, Psychology Press, Bloomington, IN, 1992. [3] W. Blewitt, Exploration of emotion modelling through fuzzy logic, PhD thesis, De Montfort University, Leicester, 2012. [4] T. Bosse, M. Pontier and J. Treur, A dynamical system modelling approach to Gross model of emotion regulation, in: Proceedings of the 8th International Conference on Cognitive Modeling, ICCM, Richard L. Lewis, Thad A. Polk, and John E. Laird (eds.), Taylor and Francis/Psychology Press, Oxford, UK, 2007. [5] T. Bosse, M. Pontier and J. Treur, A computational model based on Gross emotion regulation theory, Cogn. Syst. Res. J. 11 (2010), 211 230. [6] C. Breazeal, Emotion and sociable humanoid robots, Int. J.Hum. Comp. Interact. 59 (2003), 119 155. [7] A. Damasio, Descartes error: emotion reason and the human brain, pp. 127 222, Grosset/Putnam, New York, 1994. [8] T. Dang, S. L. Zarshenas and D. Duhaut, Grace generic robotic architecture to create emotions, in: Proc. of 11th Interna- tional Conference on Climbing and Walking Robots and the Support Technologies for Mobile Machines L Marques, A de Almeida, M O Tokhi, G S Virk (eds.), pp. 174 181, CLAWAR 2008, Coimbra, Portugal, 2008. [9] M. Dastani and J. J. Meyer, Agents with emotions, Int. J. Intell. Syst. 25 (2010), 636 654. [10] R. de Sousa, Emotion, in: The Stanford Encyclopedia of Philosophy (Spring 2014 Edition), E. N. Zalta (ed.) 2014, forthcom- ing. http://plato.stanford.edu/archives/spr2014/entries/emotion/. Accessed 23 January, 2014. [11] P. Ekman, An argument for basic emotion, Cogn. Emotion 6 (1998), 169 200. [12] M. S. El-Nasr, J. Yen and T. R. Ioerger, FLAME a fuzzy logic adaptive model of emotions, J. Autonom. Agents Multi-agent Syst. 3 (2000), 219 257. [13] A. Filipowicz, S. Barsade and S. Melwani, Understanding emotional transitions: the interpersonal consequences of chang- ing emotions in negotiations, J. Personal. Soc. Psychol. 101 (2011), 541 556. [14] J. Gratch and S. Marsella, A domain independent frame-work for modeling emotion, J. Cogn. Syst. Res. 5 (2004), 269 306. [15] J. J. Gross and R. A. Thompson, Emotion regulation: conceptual foundations, in: Handbook of Emotion Regulation, J. Gross (ed.), pp. 1 49, Guilford Press, New York, 2006. [16] S. Hareli and A. Rafaeli, Emotion cycles: on the social influence of emotion in organizations, Res. Organ. Behav. Simulation Interoperability Standards Organization, 28 (2008), 35 59. [17] E. Hudlicka, Modeling effects of behavior moderators on performance, in: Proceedings of BRIMS-12, Phoenix, AZ, Simulation Interoperability Standards Organization, 2003. [18] E. Hudlicka, What are we modeling when we model emotion?, in: AAAI Spring Symposium: Emotion, Personality, and Social Behavior, I. Horswill, E. Hudlicka, C. Lisetti, and J. D. Velasquez (eds.), pp. 52 59, AAAI Press, Menlo Park, California, 2008. [19] C. E. Izard, Human emotions, Plenum Press, New York, 1977. [20] H. Jiang, From rational to emotional agents, A Way to Design Emotional Agents, VDM Verlag Saarbr cken, Germany, 2008. [21] H. Jiang, J. M. Vidal and M. N. Huhns, EBDI: architecture for emotional agents, in: Proc. of the 6th International Joint Confer- ence on Autonomous Agents and Multiagent Systems, pp. 1 3, Honolulu, USA: ACM New York, NY, USA, 2007. [22] H. Jones, J. Saunier and D. Lourdeaux, Fuzzy rules for events perception and emotions in an agent architecture, in: Pro- ceedings of the European Society for Fuzzy Logic and Technology, Galichet, Sylvie/Montero, Javier/Mauris, Gilles (eds.), pp. 657 664, Atlantis Press, Aix-les-Bains, France, 2011. [23] P. Kleinginna and A. Kleinginna, A categorized list of emotion definitions with suggestions for a consensual definition, Motiv. Emotion 5 (1981), 345 379. [24] D. A. Kolb and B. Yeganeh, Deliberate experiential learning, contemporary organizational behavior in action, Pearson Education, Upper Saddle River, NJ, 2012. [25] J. E. LeDoux, Emotion, memory and the brain, Sci. Am. 270 (1994), 50 57. [26] B. P. Lee, E. C. Kao and V. Soo, Feeling ambivalent: a model of mixed emotions for virtual agents, Intell. Virtual Agents, Lect. Notes Comp. Sci. 4133 (2006), 329 342. [27] S. Marsella and J. Gratch, EMA: a model of emotional dynamics, Cogn. Syst. Res. 10 (2009), 70 90. [28] A. Ortony, G. Clore and A. Collins, The cognitive structure of emotions, Cambridge University Press, Cambridge, MA, 1998. [29] L. Pessoa, Emergent processes in cognitive-emotional interactions, Dialog. Clin. Neurosci. 12 (2010), 433 448. [30] R. Picard, Emotion research by the people for the people, Emotion Rev. 2 (2010), 250 254. [31] R. Plutchik, Emotion: theory, research, and experience, theories of emotion, vol. 1, Academic, New York, 1980. [32] A. Popescu, J. Broekens and M. Someren, GAMYGDALA: an emotion engine for games, IEEE Trans. Affect. Comput. 5 (2014), 32 44. [33] I. J. Roseman, P. E. Jose and M. S. Spindel, Appraisals of emotion-eliciting events: testing a theory of discrete emotions, J. Personal. Soc. Psychol. 59 (1990), 899 915. [34] S. Russel and P. Norvig, Artificial intelligence, a modern approach, Prentice-Hall Inc., Englewood Cliffs, NJ, 1995. [35] K. Scherer, Emotion as a multi-component process: a model and some cross-cultural data, Rev. Personal. Soc. Psychol. 5 (1994), 37 63. [36] K. Scherer and G. Ceschi, Criteria for emotion recognition from verbal and nonverbal expression: studying baggage loss in the airport, Personal. Soc. Psychol. Bull. 26 (2000), 327 339. S. Jain and K. Asawa: EMIA: Emotion Model for Intelligent Agent 465 [37] A. Soleimani and Z. Kobti, A fuzzy logic computational model for emotion regulation based on Gross theory, in: Proceedings of Florida Artificial Intelligence Research Society Conference, Chutima Boonthum-Denecke and G. Michael Youngblood (eds.), AAAI Press, North America, 2013. [38] B. Steunebrink, M. Dastani and J. J. Meyer, A formal model of emotion triggers: an approach for BDI agents, Synthese 185 (2012), 83 129. [39] A. Van der Heide, D. S nchez and G. Trivino, Computational models of affect and fuzzy logic, in: Proceedings of the Euro- pean Society for Fuzzy Logic and Technology, Galichet, Sylvie/Montero, Javier/Mauris, Gilles (eds.), pp. 620 627, Atlantis Press, Aix-les-Bains, France, 2011. [40] J. D. Velasquez, Cathexis: A computational model for the generation of emotions and their influence in the behavior of autonomous agents, MS thesis, Department of Electrical Engineering and Computer Science, Massachusetts Institute of Technology, United States, Cambridge, 1996. [41] J. D. Velasquez, Modeling emotions and other motivations in synthetic agents, in: Proceedings of the Fourteenth National Conference on Artificial Intelligence, Kenneth Ford (ed.), pp. 10 15, AAAI Press, Providence, Rhode Island, 1997. [42] W. Wallach, S. Franklin and C. Allen, A conceptual and computational model of moral decision making in human and artifi- cial agents, Top. Cogn. Sci. 2 (2010), 452 485. [43] D. Wu, Fuzzy sets and systems in building closed-loop affective computing systems for human-computer interaction: advances and new directions, in: IEEE World Congress on Computational Intelligence, Jing Liu, Cesare Alippi, Bernadette Bouchon-Meunier, Garrison W. Greenwood, Hussein A. Abbass (eds.), pp. 1 8, IEEE, Brisbane Australia, 2012. [44] P. Xiaolan, X. Lun, L. Xin and W. Zhiliang, Emotional state transition model based on stimulus and personality characteris- tics, Chin. Commun. 10 (2013), 146 155. [45] L. Zhenlong and W. Xiaoxia, Emotion modeling of the driver based on fuzzy logic, in: Proceedings of the 12th International IEEE Conference on Intelligent Transportation Systems, Fei-Yue Wang, Simona Bert , Charles Herget (eds.), pp. 1 5, St. Louis, MO, 2009.